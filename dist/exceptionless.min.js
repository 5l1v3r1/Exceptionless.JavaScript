(function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function e(t){return"function"==typeof t}function n(t){return"object"==typeof t&&null!==t}function r(t,e){K[R]=t,K[R+1]=e,R+=2,2===R&&I()}function i(){var t=process.nextTick,e=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(e)&&"0"===e[1]&&"10"===e[2]&&(t=setImmediate),function(){t(c)}}function o(){return function(){z(c)}}function s(){var t=0,e=new H(c),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function u(){var t=new MessageChannel;return t.port1.onmessage=c,function(){t.port2.postMessage(0)}}function a(){return function(){setTimeout(c,1)}}function c(){for(var t=0;R>t;t+=2){var e=K[t],n=K[t+1];e(n),K[t]=void 0,K[t+1]=void 0}R=0}function f(){try{var t=require,e=t("vertx");return z=e.runOnLoop||e.runOnContext,o()}catch(n){return a()}}function l(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function m(){return new TypeError("A promises callback cannot return that same promise.")}function h(t){try{return t.then}catch(e){return Q.error=e,Q}}function d(t,e,n,r){try{t.call(e,n,r)}catch(i){return i}}function v(t,e,n){Z(function(t){var r=!1,i=d(n,e,function(n){r||(r=!0,e!==n?y(t,n):_(t,n))},function(e){r||(r=!0,k(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&i&&(r=!0,k(t,i))},t)}function b(t,e){e._state===B?_(t,e._result):t._state===J?k(t,e._result):N(e,void 0,function(e){y(t,e)},function(e){k(t,e)})}function g(t,n){if(n.constructor===t.constructor)b(t,n);else{var r=h(n);r===Q?k(t,Q.error):void 0===r?_(t,n):e(r)?v(t,n,r):_(t,n)}}function y(e,n){e===n?k(e,p()):t(n)?g(e,n):_(e,n)}function w(t){t._onerror&&t._onerror(t._result),S(t)}function _(t,e){t._state===W&&(t._result=e,t._state=B,0!==t._subscribers.length&&Z(S,t))}function k(t,e){t._state===W&&(t._state=J,t._result=e,Z(w,t))}function N(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+B]=n,i[o+J]=r,0===o&&t._state&&Z(S,t)}function S(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,i,o=t._result,s=0;s<e.length;s+=3)r=e[s],i=e[s+n],r?A(n,r,i,o):i(o);t._subscribers.length=0}}function E(){this.error=null}function x(t,e){try{return t(e)}catch(n){return tt.error=n,tt}}function A(t,n,r,i){var o,s,u,a,c=e(r);if(c){if(o=x(r,i),o===tt?(a=!0,s=o.error,o=null):u=!0,n===o)return void k(n,m())}else o=i,u=!0;n._state!==W||(c&&u?y(n,o):a?k(n,s):t===B?_(n,o):t===J&&k(n,o))}function F(t,e){try{e(function(e){y(t,e)},function(e){k(t,e)})}catch(n){k(t,n)}}function O(t,e){var n=this;n._instanceConstructor=t,n.promise=new t(l),n._validateInput(e)?(n._input=e,n.length=e.length,n._remaining=e.length,n._init(),0===n.length?_(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&_(n.promise,n._result))):k(n.promise,n._validationError())}function j(t){return new et(this,t).promise}function T(t){function e(t){y(i,t)}function n(t){k(i,t)}var r=this,i=new r(l);if(!U(t))return k(i,new TypeError("You must pass an array to race.")),i;for(var o=t.length,s=0;i._state===W&&o>s;s++)N(r.resolve(t[s]),void 0,e,n);return i}function C(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(l);return y(n,t),n}function P(t){var e=this,n=new e(l);return k(n,t),n}function $(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function L(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function M(t){this._id=st++,this._state=void 0,this._result=void 0,this._subscribers=[],l!==t&&(e(t)||$(),this instanceof M||L(),F(this,t))}function q(){var t;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(t.Promise=ut)}var G;G=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var z,I,U=G,R=0,Z=({}.toString,r),X="undefined"!=typeof window?window:void 0,Y=X||{},H=Y.MutationObserver||Y.WebKitMutationObserver,V="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),D="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,K=new Array(1e3);I=V?i():H?s():D?u():void 0===X&&"function"==typeof require?f():a();var W=void 0,B=1,J=2,Q=new E,tt=new E;O.prototype._validateInput=function(t){return U(t)},O.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},O.prototype._init=function(){this._result=new Array(this.length)};var et=O;O.prototype._enumerate=function(){for(var t=this,e=t.length,n=t.promise,r=t._input,i=0;n._state===W&&e>i;i++)t._eachEntry(r[i],i)},O.prototype._eachEntry=function(t,e){var r=this,i=r._instanceConstructor;n(t)?t.constructor===i&&t._state!==W?(t._onerror=null,r._settledAt(t._state,e,t._result)):r._willSettleAt(i.resolve(t),e):(r._remaining--,r._result[e]=t)},O.prototype._settledAt=function(t,e,n){var r=this,i=r.promise;i._state===W&&(r._remaining--,t===J?k(i,n):r._result[e]=n),0===r._remaining&&_(i,r._result)},O.prototype._willSettleAt=function(t,e){var n=this;N(t,void 0,function(t){n._settledAt(B,e,t)},function(t){n._settledAt(J,e,t)})};var nt=j,rt=T,it=C,ot=P,st=0,ut=M;M.all=nt,M.race=rt,M.resolve=it,M.reject=ot,M.prototype={constructor:M,then:function(t,e){var n=this,r=n._state;if(r===B&&!t||r===J&&!e)return this;var i=new this.constructor(l),o=n._result;if(r){var s=arguments[r-1];Z(function(){A(r,i,s,o)})}else N(n,i,t,e);return i},"catch":function(t){return this.then(null,t)}};var at=q,ct={Promise:ut,polyfill:at};"function"==typeof define&&define.amd?define(function(){return ct}):"undefined"!=typeof module&&module.exports?module.exports=ct:"undefined"!=typeof this&&(this.ES6Promise=ct),at()}).call(this),function(t,e){"use strict";"function"==typeof define&&define.amd?define("stackframe",[],e):"object"==typeof exports?module.exports=e():t.StackFrame=e()}(this,function(){"use strict";function t(t){return!isNaN(parseFloat(t))&&isFinite(t)}function e(t,e,n,r,i){void 0!==t&&this.setFunctionName(t),void 0!==e&&this.setArgs(e),void 0!==n&&this.setFileName(n),void 0!==r&&this.setLineNumber(r),void 0!==i&&this.setColumnNumber(i)}return e.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(t){this.functionName=String(t)},getArgs:function(){return this.args},setArgs:function(t){if("[object Array]"!==Object.prototype.toString.call(t))throw new TypeError("Args must be an Array");this.args=t},getFileName:function(){return this.fileName},setFileName:function(t){this.fileName=String(t)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(e){if(!t(e))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(e)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(e){if(!t(e))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(e)},toString:function(){var e=this.getFunctionName()||"{anonymous}",n="("+(this.getArgs()||[]).join(",")+")",r=this.getFileName()?"@"+this.getFileName():"",i=t(this.getLineNumber())?":"+this.getLineNumber():"",o=t(this.getColumnNumber())?":"+this.getColumnNumber():"";return e+n+r+i+o}},e}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("error-stack-parser",["stackframe"],e):"object"==typeof exports?module.exports=e(require("stackframe")):t.ErrorStackParser=e(t.StackFrame)}(this,function(t){"use strict";var e=/\S+\:\d+/,n=/\s+at /;return{parse:function(t){if("undefined"!=typeof t.stacktrace||"undefined"!=typeof t["opera#sourceloc"])return this.parseOpera(t);if(t.stack&&t.stack.match(n))return this.parseV8OrIE(t);if(t.stack&&t.stack.match(e))return this.parseFFOrSafari(t);throw new Error("Cannot parse given Error object")},extractLocation:function(t){var e=t.split(":"),n=e.pop(),r=e[e.length-1];if(!isNaN(parseFloat(r))&&isFinite(r)){var i=e.pop();return[e.join(":"),i,n]}return[e.join(":"),n,void 0]},parseV8OrIE:function(e){return e.stack.split("\n").slice(1).map(function(e){var n=e.replace(/^\s+/,"").split(/\s+/).slice(1),r=this.extractLocation(n.pop().replace(/[\(\)\s]/g,"")),i=n[0]&&"Anonymous"!==n[0]?n[0]:void 0;return new t(i,void 0,r[0],r[1],r[2])},this)},parseFFOrSafari:function(n){return n.stack.split("\n").filter(function(t){return!!t.match(e)},this).map(function(e){var n=e.split("@"),r=this.extractLocation(n.pop()),i=n.shift()||void 0;return new t(i,void 0,r[0],r[1],r[2])},this)},parseOpera:function(t){return!t.stacktrace||t.message.indexOf("\n")>-1&&t.message.split("\n").length>t.stacktrace.split("\n").length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)},parseOpera9:function(e){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=e.message.split("\n"),i=[],o=2,s=r.length;s>o;o+=2){var u=n.exec(r[o]);u&&i.push(new t(void 0,void 0,u[2],u[1]))}return i},parseOpera10:function(e){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=e.stacktrace.split("\n"),i=[],o=0,s=r.length;s>o;o+=2){var u=n.exec(r[o]);u&&i.push(new t(u[3]||void 0,void 0,u[2],u[1]))}return i},parseOpera11:function(n){return n.stack.split("\n").filter(function(t){return!!t.match(e)&&!t.match(/^Error created at/)},this).map(function(e){var n,r=e.split("@"),i=this.extractLocation(r.pop()),o=r.shift()||"",s=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;o.match(/\(([^\)]*)\)/)&&(n=o.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var u=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new t(s,u,i[0],i[1],i[2])},this)}}}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("stack-generator",["stackframe"],e):"object"==typeof exports?module.exports=e(require("stackframe")):t.StackGenerator=e(t.StackFrame)}(this,function(t){return{backtrace:function(e){var n=[],r=10;"object"==typeof e&&"number"==typeof e.maxStackSize&&(r=e.maxStackSize);for(var i=arguments.callee;i&&n.length<r;){var o=[].slice.call(i.arguments);n.push(/function(?:\s+([\w$]+))?\s*\(/.test(i.toString())?new t(RegExp.$1||void 0,o):new t(void 0,o));try{i=i.caller}catch(s){break}}return n}}}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("stacktrace-gps",["source-map","es6-promise","stackframe"],e):"object"==typeof exports?module.exports=e(require("source-map/lib/source-map/source-map-consumer"),require("es6-promise"),require("stackframe")):t.StackTraceGPS=e(t.SourceMap,t.ES6Promise,t.StackFrame)}(this,function(t,e){"use strict";function n(){for(var t,e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],r=0;r<e.length;r++)try{return t=e[r](),n=e[r],t}catch(i){}}function r(t,e,r){var i=n();i.open("get",t),i.onerror=r,i.onreadystatechange=function(){if(4===i.readyState){if(i.status>=200&&i.status<400)return e(i.responseText);r(new Error("Unable to retrieve "+t))}},i.send()}function i(t,e,n){for(var r,i,o,s=/function\s+([^(]*?)\s*\(([^)]*)\)/,u=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,a=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,c=t.split("\n"),f="",l=Math.min(e,20),p=0;l>p;++p)if(r=c[e-p-1],o=r.indexOf("//"),o>=0&&(r=r.substr(0,o)),r){if(f=r+f,i=u.exec(f),i&&i[1])return i[1];if(i=s.exec(f),i&&i[1])return i[1];if(i=a.exec(f),i&&i[1])return i[1]}return void 0}function o(){if("function"!=typeof Object.defineProperty||"function"!=typeof Object.create)throw new Error("Unable to consume source maps in older browsers")}function s(t){if("object"!=typeof t)throw new TypeError("Given StackFrame is not an object");if("string"!=typeof t.fileName)throw new TypeError("Given file name is not a String");if("number"!=typeof t.lineNumber||t.lineNumber%1!==0||t.lineNumber<1)throw new TypeError("Given line number must be a positive integer");if("number"!=typeof t.columnNumber||t.columnNumber%1!==0||t.columnNumber<0)throw new TypeError("Given column number must be a non-negative integer");return!0}function u(t){var e=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)$/.exec(t);if(e&&e[1])return e[1];throw new Error("sourceMappingURL not found")}function a(e,n,r,i){var o=new t.SourceMapConsumer(e).originalPositionFor({line:r,column:i});return new StackFrame(o.name,n,o.source,o.line,o.column)}e.polyfill();var c=e.Promise;return function f(t){return this instanceof f?(t=t||{},this.sourceCache=t.sourceCache||{},this._get=function(e){return new c(function(n,i){this.sourceCache[e]?n(this.sourceCache[e]):t.offline?i(new Error("Cannot make network requests in offline mode")):r(e,function(t){this.sourceCache[e]=t,n(t)}.bind(this),i)}.bind(this))},this.pinpoint=function(t){return this.getMappedLocation(t).then(this.findFunctionName.bind(this))},this.findFunctionName=function(t){return new c(function(e,n){s(t),this._get(t.fileName).then(function(n){var r=i(n,t.lineNumber,t.columnNumber);e(new StackFrame(r,t.args,t.fileName,t.lineNumber,t.columnNumber))},n)}.bind(this))},void(this.getMappedLocation=function(t){return new c(function(e,n){o(),s(t),this._get(t.fileName).then(function(r){this._get(u(r)).then(function(n){var r=t.lineNumber,i=t.columnNumber;e(a(n,t.args,r,i))},n)["catch"](n)}.bind(this),n)["catch"](n)}.bind(this))})):new f(t)}}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("stacktrace",["error-stack-parser","stack-generator","stacktrace-gps","es6-promise"],e):"object"==typeof exports?module.exports=e(require("error-stack-parser"),require("stack-generator"),require("stacktrace-gps"),require("es6-promise")):t.StackTrace=e(t.ErrorStackParser,t.StackGenerator,t.StackTraceGPS,t.ES6Promise)}(this,function(t,e,n,r){function i(t,e){var n={};return[t,e].forEach(function(t){for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}),n}function o(t){return t.stack||t["opera#sourceloc"]}r.polyfill();var s=r.Promise,u={filter:function(t){return-1===(t.functionName||"").indexOf("StackTrace$$")&&-1===(t.functionName||"").indexOf("ErrorStackParser$$")&&-1===(t.functionName||"").indexOf("StackTraceGPS$$")&&-1===(t.functionName||"").indexOf("StackGenerator$$")}};return{get:function(t){try{throw new Error}catch(e){return o(e)?this.fromError(e,t):this.generateArtificially(t)}},fromError:function(e,r){return r=i(u,r),new s(function(i){var o=t.parse(e);"function"==typeof r.filter&&(o=o.filter(r.filter)),i(s.all(o.map(function(t){return new s(function(e){function i(n){e(t)}new n(r).pinpoint(t).then(e,i)["catch"](i)})})))}.bind(this))},generateArtificially:function(t){t=i(u,t);var n=e.backtrace(t);return"function"==typeof t.filter&&(n=n.filter(t.filter)),s.resolve(n)},instrument:function(t,e,n,r){if("function"!=typeof t)throw new Error("Cannot instrument non-function object");if("function"==typeof t.__stacktraceOriginalFn)return t;var i=function(){try{this.get().then(e,n)["catch"](n),t.apply(r||this,arguments)}catch(i){throw o(i)&&this.fromError(i).then(e,n)["catch"](n),i}}.bind(this);return i.__stacktraceOriginalFn=t,i},deinstrument:function(t){if("function"!=typeof t)throw new Error("Cannot de-instrument non-function object");return"function"==typeof t.__stacktraceOriginalFn?t.__stacktraceOriginalFn:t}}});
//# sourceMappingURL=exceptionless.min.js.map