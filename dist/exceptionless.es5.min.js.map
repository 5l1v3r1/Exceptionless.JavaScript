{"version":3,"sources":["es6-promise.js","stackframe.js","exceptionless.es5.min.js","node_modules/stackframe/dist/stackframe.min.js","stack-generator.js","stacktrace-gps.js","node_modules/error-stack-parser/dist/error-stack-parser.min.js","exceptionless.es5.js"],"names":["lib$es6$promise$utils$$objectOrFunction","x","lib$es6$promise$utils$$isFunction","lib$es6$promise$utils$$isMaybeThenable","lib$es6$promise$asap$$asap","callback","arg","lib$es6$promise$asap$$queue","lib$es6$promise$asap$$len","lib$es6$promise$asap$$scheduleFlush","lib$es6$promise$asap$$useNextTick","nextTick","process","version","versions","node","match","Array","isArray","setImmediate","lib$es6$promise$asap$$flush","lib$es6$promise$asap$$useVertxTimer","lib$es6$promise$asap$$vertxNext","lib$es6$promise$asap$$useMutationObserver","iterations","observer","lib$es6$promise$asap$$BrowserMutationObserver","document","createTextNode","observe","characterData","data","lib$es6$promise$asap$$useMessageChannel","channel","MessageChannel","port1","onmessage","port2","postMessage","lib$es6$promise$asap$$useSetTimeout","setTimeout","i","undefined","lib$es6$promise$asap$$attemptVertex","r","require","vertx","runOnLoop","runOnContext","e","lib$es6$promise$$internal$$noop","lib$es6$promise$$internal$$selfFullfillment","TypeError","lib$es6$promise$$internal$$cannotReturnOwn","lib$es6$promise$$internal$$getThen","promise","then","error","lib$es6$promise$$internal$$GET_THEN_ERROR","lib$es6$promise$$internal$$tryThen","value","fulfillmentHandler","rejectionHandler","call","lib$es6$promise$$internal$$handleForeignThenable","thenable","lib$es6$promise$asap$$default","sealed","lib$es6$promise$$internal$$resolve","lib$es6$promise$$internal$$fulfill","reason","lib$es6$promise$$internal$$reject","_label","lib$es6$promise$$internal$$handleOwnThenable","_state","lib$es6$promise$$internal$$FULFILLED","_result","lib$es6$promise$$internal$$REJECTED","lib$es6$promise$$internal$$subscribe","lib$es6$promise$$internal$$handleMaybeThenable","maybeThenable","constructor","lib$es6$promise$$internal$$publishRejection","_onerror","lib$es6$promise$$internal$$publish","lib$es6$promise$$internal$$PENDING","_subscribers","length","parent","child","onFulfillment","onRejection","subscribers","settled","detail","lib$es6$promise$$internal$$invokeCallback","lib$es6$promise$$internal$$ErrorObject","this","lib$es6$promise$$internal$$tryCatch","lib$es6$promise$$internal$$TRY_CATCH_ERROR","succeeded","failed","hasCallback","lib$es6$promise$$internal$$initializePromise","resolver","lib$es6$promise$enumerator$$Enumerator","Constructor","input","enumerator","_instanceConstructor","_validateInput","_input","_remaining","_init","_enumerate","_validationError","lib$es6$promise$promise$all$$all","entries","lib$es6$promise$enumerator$$default","lib$es6$promise$promise$race$$race","lib$es6$promise$utils$$isArray","resolve","lib$es6$promise$promise$resolve$$resolve","object","lib$es6$promise$promise$reject$$reject","lib$es6$promise$promise$$needsResolver","lib$es6$promise$promise$$needsNew","lib$es6$promise$promise$$Promise","_id","lib$es6$promise$promise$$counter","lib$es6$promise$polyfill$$polyfill","local","global","self","Function","Error","P","Promise","Object","prototype","toString","cast","lib$es6$promise$promise$$default","lib$es6$promise$utils$$_isArray","lib$es6$promise$asap$$browserWindow","window","lib$es6$promise$asap$$browserGlobal","MutationObserver","WebKitMutationObserver","lib$es6$promise$asap$$isNode","lib$es6$promise$asap$$isWorker","Uint8ClampedArray","importScripts","_eachEntry","entry","c","_settledAt","_willSettleAt","state","lib$es6$promise$promise$all$$default","lib$es6$promise$promise$race$$default","lib$es6$promise$promise$resolve$$default","lib$es6$promise$promise$reject$$default","all","race","reject","result","arguments","catch","lib$es6$promise$polyfill$$default","lib$es6$promise$umd$$ES6Promise","polyfill","define","module","root","factory","amd","exports","StackFrame","_isNumber","n","isNaN","parseFloat","isFinite","functionName","args","fileName","lineNumber","columnNumber","setFunctionName","setArgs","setFileName","setLineNumber","setColumnNumber","getFunctionName","v","String","getArgs","getFileName","getLineNumber","Number","getColumnNumber","join","ErrorStackParser","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","parse","stacktrace","parseOpera","stack","parseV8OrIE","parseFFOrSafari","extractLocation","urlLike","locationParts","split","lastNumber","pop","possibleNumber","slice","map","line","tokens","replace","filter","shift","message","indexOf","parseOpera9","parseOpera11","parseOpera10","lineRE","lines","len","exec","push","argsRaw","functionCall","StackGenerator","backtrace","opts","maxStackSize","curr","callee","test","RegExp","$1","caller","StackTraceGPS","SourceMap","ES6Promise","_createXMLHTTPObject","xmlhttp","XMLHttpFactories","XMLHttpRequest","ActiveXObject","_xdr","url","errback","req","open","onerror","onreadystatechange","readyState","status","responseText","send","_findFunctionName","source","m","commentPos","reFunctionDeclaration","reFunctionExpression","reFunctionEvaluation","code","maxLines","Math","min","substr","_ensureSupportedEnvironment","defineProperty","create","_ensureStackFrameIsLegit","stackframe","_findSourceMappingURL","_newLocationInfoFromSourceMap","rawSourceMap","loc","SourceMapConsumer","originalPositionFor","column","name","sourceCache","_get","location","offline","bind","pinpoint","getMappedLocation","findFunctionName","guessedFunctionName","StackTrace","_merge","first","second","target","forEach","obj","prop","hasOwnProperty","_isShapedLikeParsableError","err","_options","get","fromError","generateArtificially","stackframes","sf","resolveOriginal","_","stackFrames","instrument","fn","thisArg","__stacktraceOriginalFn","instrumented","apply","deinstrument","Exceptionless","ContextData","setException","exception","enumerable","configurable","getException","hasException","markAsUnhandledError","setSubmissionMethod","method","getSubmissionMethod","InMemoryLastReferenceIdManager","_lastReferenceId","getLast","clearLast","setLast","eventId","ConsoleLog","info","console","warn","NullLog","EventPluginContext","client","event","contextData","cancel","config","log","EventPluginManager","run","context","plugins","reduce","plugin","addDefaultPlugins","addPlugin","ConfigurationDefaultsPlugin","ErrorPlugin","DuplicateCheckerPlugin","ModuleInfoPlugin","RequestInfoPlugin","EnvironmentInfoPlugin","SubmissionMethodPlugin","ReferenceIdPlugin","priority","reference_id","type","Utils","guid","substring","DefaultEventQueue","_processingQueue","_config","enqueue","ensureQueueTimer","areQueuedItemsDiscarded","key","queuePath","Date","toJSON","randomNumber","storage","save","_this","enabled","events","submissionBatchSize","serverUrl","submissionClient","submit","response","processSubmissionResponse","ex","suspendProcessing","success","serviceUnavailable","requeueEvents","paymentRequired","unableToAuthenticate","notFound","badRequest","requestEntityTooLarge","max","round","_queueTimer","setInterval","onProcessQueue","isQueueProcessingSuspended","durationInMinutes","discardFutureQueuedItems","clearQueue","_suspendProcessingUntil","getTime","_discardQueuedItemsUntil","clear","Exception","index","apiKey","InMemoryStorage","_items","path","searchPattern","limit","results","regex","count","getHashCode","hash","character","charCodeAt","s4","floor","random","merge","defaultValues","values","parseVersion","versionRegex","matches","parseQueryString","query","pairs","pair","decodeURIComponent","stringify","cache","JSON","Configuration","settings","inject","_enabled","_serverUrl","_plugins","lastReferenceIdManager","defaultTags","defaultData","defaults","environmentInfoCollector","requestInfoCollector","queue","_apiKey","set","sort","p1","p2","pluginOrName","pluginAction","pluginExists","removePlugin","splice","setVersion","useReferenceIds","useDebugLogger","_defaultSettings","EventBuilder","pluginContextData","setType","setSource","setSessionId","sessionId","isValidIdentifier","session_id","setReferenceId","referenceId","setMessage","setGeo","latitude","longitude","geo","setValue","addTags","tags","_i","setProperty","markAsCritical","critical","submitEvent","isDigit","isLetter","isMinus","ExceptionlessClient","settingsOrApiKey","createException","createEvent","submitException","createUnhandledException","builder","submitUnhandledException","createFeatureUsage","feature","submitFeatureUsage","createLog","sourceOrMessage","level","submitLog","createNotFound","resource","submitNotFound","createSessionStart","submitSessionStart","createSessionEnd","submitSessionEnd","date","getLastReferenceId","_instance","tag","processError","onParseError","stack_trace","getStackFrames","frames","file_name","line_number","modules","getElementsByTagName","getFromDocument","scripts","src","module_id","innerHTML","ri","getRequestInfo","ei","getEnvironmentInfo","submissionMethod","SettingsResponse","settingsVersion","SubmissionResponse","statusCode","os","NodeEnvironmentInfoCollector","environmentInfo","processor_count","cpus","total_physical_memory","totalmem","available_physical_memory","freemem","command_line","argv","process_name","title","process_id","pid","process_memory_size","memoryUsage","heapTotal","architecture","arch","o_s_name","o_s_version","release","ip_address","getIpAddresses","machine_name","hostname","runtime_version","loadavg","platform","tmpdir","uptime","endianness","ips","interfaces","networkInterfaces","keys","iface","family","internal","address","NodeRequestInfoCollector","https","NodeSubmissionClient","sendRequest","msg","getResponseMessage","submitDescription","description","encodeURIComponent","getSettings","statusMessage","host","parsedHost","options","auth","port","parseInt","headers","Content-Type","Content-Length","request","body","on","chunk","write","end","NodeBootstrapper","register","isNode","getExitCodeReason","WebRequestInfoCollector","navigator","requestInfo","user_agent","userAgent","is_secure","protocol","pathname","cookies","getCookies","query_string","search","referrer","cookie","DefaultSubmissionClient","xhr","responseBody","statusText","createRequest","XDomainRequest","setRequestHeader","timeout","ontimeout","onload","WindowBootstrapper","getDefaultsSettingsFromScriptTag","handleWindowOnError","_oldOnErrorHandler","filename","lineno","colno","stackTraceLimit","Infinity"],"mappings":"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","file":"exceptionless.es5.min.js","sourcesContent":["/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\n * @version   2.1.1\n */\n\n(function() {\n    \"use strict\";\n    function lib$es6$promise$utils$$objectOrFunction(x) {\n      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n    }\n\n    function lib$es6$promise$utils$$isFunction(x) {\n      return typeof x === 'function';\n    }\n\n    function lib$es6$promise$utils$$isMaybeThenable(x) {\n      return typeof x === 'object' && x !== null;\n    }\n\n    var lib$es6$promise$utils$$_isArray;\n    if (!Array.isArray) {\n      lib$es6$promise$utils$$_isArray = function (x) {\n        return Object.prototype.toString.call(x) === '[object Array]';\n      };\n    } else {\n      lib$es6$promise$utils$$_isArray = Array.isArray;\n    }\n\n    var lib$es6$promise$utils$$isArray = lib$es6$promise$utils$$_isArray;\n    var lib$es6$promise$asap$$len = 0;\n    var lib$es6$promise$asap$$toString = {}.toString;\n    var lib$es6$promise$asap$$vertxNext;\n    function lib$es6$promise$asap$$asap(callback, arg) {\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len] = callback;\n      lib$es6$promise$asap$$queue[lib$es6$promise$asap$$len + 1] = arg;\n      lib$es6$promise$asap$$len += 2;\n      if (lib$es6$promise$asap$$len === 2) {\n        // If len is 2, that means that we need to schedule an async flush.\n        // If additional callbacks are queued before the queue is flushed, they\n        // will be processed by this flush that we are scheduling.\n        lib$es6$promise$asap$$scheduleFlush();\n      }\n    }\n\n    var lib$es6$promise$asap$$default = lib$es6$promise$asap$$asap;\n\n    var lib$es6$promise$asap$$browserWindow = (typeof window !== 'undefined') ? window : undefined;\n    var lib$es6$promise$asap$$browserGlobal = lib$es6$promise$asap$$browserWindow || {};\n    var lib$es6$promise$asap$$BrowserMutationObserver = lib$es6$promise$asap$$browserGlobal.MutationObserver || lib$es6$promise$asap$$browserGlobal.WebKitMutationObserver;\n    var lib$es6$promise$asap$$isNode = typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n    // test for web worker but not in IE10\n    var lib$es6$promise$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n      typeof importScripts !== 'undefined' &&\n      typeof MessageChannel !== 'undefined';\n\n    // node\n    function lib$es6$promise$asap$$useNextTick() {\n      var nextTick = process.nextTick;\n      // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n      // setImmediate should be used instead instead\n      var version = process.versions.node.match(/^(?:(\\d+)\\.)?(?:(\\d+)\\.)?(\\*|\\d+)$/);\n      if (Array.isArray(version) && version[1] === '0' && version[2] === '10') {\n        nextTick = setImmediate;\n      }\n      return function() {\n        nextTick(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    // vertx\n    function lib$es6$promise$asap$$useVertxTimer() {\n      return function() {\n        lib$es6$promise$asap$$vertxNext(lib$es6$promise$asap$$flush);\n      };\n    }\n\n    function lib$es6$promise$asap$$useMutationObserver() {\n      var iterations = 0;\n      var observer = new lib$es6$promise$asap$$BrowserMutationObserver(lib$es6$promise$asap$$flush);\n      var node = document.createTextNode('');\n      observer.observe(node, { characterData: true });\n\n      return function() {\n        node.data = (iterations = ++iterations % 2);\n      };\n    }\n\n    // web worker\n    function lib$es6$promise$asap$$useMessageChannel() {\n      var channel = new MessageChannel();\n      channel.port1.onmessage = lib$es6$promise$asap$$flush;\n      return function () {\n        channel.port2.postMessage(0);\n      };\n    }\n\n    function lib$es6$promise$asap$$useSetTimeout() {\n      return function() {\n        setTimeout(lib$es6$promise$asap$$flush, 1);\n      };\n    }\n\n    var lib$es6$promise$asap$$queue = new Array(1000);\n    function lib$es6$promise$asap$$flush() {\n      for (var i = 0; i < lib$es6$promise$asap$$len; i+=2) {\n        var callback = lib$es6$promise$asap$$queue[i];\n        var arg = lib$es6$promise$asap$$queue[i+1];\n\n        callback(arg);\n\n        lib$es6$promise$asap$$queue[i] = undefined;\n        lib$es6$promise$asap$$queue[i+1] = undefined;\n      }\n\n      lib$es6$promise$asap$$len = 0;\n    }\n\n    function lib$es6$promise$asap$$attemptVertex() {\n      try {\n        var r = require;\n        var vertx = r('vertx');\n        lib$es6$promise$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext;\n        return lib$es6$promise$asap$$useVertxTimer();\n      } catch(e) {\n        return lib$es6$promise$asap$$useSetTimeout();\n      }\n    }\n\n    var lib$es6$promise$asap$$scheduleFlush;\n    // Decide what async method to use to triggering processing of queued callbacks:\n    if (lib$es6$promise$asap$$isNode) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useNextTick();\n    } else if (lib$es6$promise$asap$$BrowserMutationObserver) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMutationObserver();\n    } else if (lib$es6$promise$asap$$isWorker) {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useMessageChannel();\n    } else if (lib$es6$promise$asap$$browserWindow === undefined && typeof require === 'function') {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$attemptVertex();\n    } else {\n      lib$es6$promise$asap$$scheduleFlush = lib$es6$promise$asap$$useSetTimeout();\n    }\n\n    function lib$es6$promise$$internal$$noop() {}\n\n    var lib$es6$promise$$internal$$PENDING   = void 0;\n    var lib$es6$promise$$internal$$FULFILLED = 1;\n    var lib$es6$promise$$internal$$REJECTED  = 2;\n\n    var lib$es6$promise$$internal$$GET_THEN_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$selfFullfillment() {\n      return new TypeError(\"You cannot resolve a promise with itself\");\n    }\n\n    function lib$es6$promise$$internal$$cannotReturnOwn() {\n      return new TypeError('A promises callback cannot return that same promise.');\n    }\n\n    function lib$es6$promise$$internal$$getThen(promise) {\n      try {\n        return promise.then;\n      } catch(error) {\n        lib$es6$promise$$internal$$GET_THEN_ERROR.error = error;\n        return lib$es6$promise$$internal$$GET_THEN_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n      try {\n        then.call(value, fulfillmentHandler, rejectionHandler);\n      } catch(e) {\n        return e;\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleForeignThenable(promise, thenable, then) {\n       lib$es6$promise$asap$$default(function(promise) {\n        var sealed = false;\n        var error = lib$es6$promise$$internal$$tryThen(then, thenable, function(value) {\n          if (sealed) { return; }\n          sealed = true;\n          if (thenable !== value) {\n            lib$es6$promise$$internal$$resolve(promise, value);\n          } else {\n            lib$es6$promise$$internal$$fulfill(promise, value);\n          }\n        }, function(reason) {\n          if (sealed) { return; }\n          sealed = true;\n\n          lib$es6$promise$$internal$$reject(promise, reason);\n        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n        if (!sealed && error) {\n          sealed = true;\n          lib$es6$promise$$internal$$reject(promise, error);\n        }\n      }, promise);\n    }\n\n    function lib$es6$promise$$internal$$handleOwnThenable(promise, thenable) {\n      if (thenable._state === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, thenable._result);\n      } else if (thenable._state === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, thenable._result);\n      } else {\n        lib$es6$promise$$internal$$subscribe(thenable, undefined, function(value) {\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      }\n    }\n\n    function lib$es6$promise$$internal$$handleMaybeThenable(promise, maybeThenable) {\n      if (maybeThenable.constructor === promise.constructor) {\n        lib$es6$promise$$internal$$handleOwnThenable(promise, maybeThenable);\n      } else {\n        var then = lib$es6$promise$$internal$$getThen(maybeThenable);\n\n        if (then === lib$es6$promise$$internal$$GET_THEN_ERROR) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$GET_THEN_ERROR.error);\n        } else if (then === undefined) {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        } else if (lib$es6$promise$utils$$isFunction(then)) {\n          lib$es6$promise$$internal$$handleForeignThenable(promise, maybeThenable, then);\n        } else {\n          lib$es6$promise$$internal$$fulfill(promise, maybeThenable);\n        }\n      }\n    }\n\n    function lib$es6$promise$$internal$$resolve(promise, value) {\n      if (promise === value) {\n        lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$selfFullfillment());\n      } else if (lib$es6$promise$utils$$objectOrFunction(value)) {\n        lib$es6$promise$$internal$$handleMaybeThenable(promise, value);\n      } else {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publishRejection(promise) {\n      if (promise._onerror) {\n        promise._onerror(promise._result);\n      }\n\n      lib$es6$promise$$internal$$publish(promise);\n    }\n\n    function lib$es6$promise$$internal$$fulfill(promise, value) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n\n      promise._result = value;\n      promise._state = lib$es6$promise$$internal$$FULFILLED;\n\n      if (promise._subscribers.length !== 0) {\n        lib$es6$promise$asap$$default(lib$es6$promise$$internal$$publish, promise);\n      }\n    }\n\n    function lib$es6$promise$$internal$$reject(promise, reason) {\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) { return; }\n      promise._state = lib$es6$promise$$internal$$REJECTED;\n      promise._result = reason;\n\n      lib$es6$promise$asap$$default(lib$es6$promise$$internal$$publishRejection, promise);\n    }\n\n    function lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n      var subscribers = parent._subscribers;\n      var length = subscribers.length;\n\n      parent._onerror = null;\n\n      subscribers[length] = child;\n      subscribers[length + lib$es6$promise$$internal$$FULFILLED] = onFulfillment;\n      subscribers[length + lib$es6$promise$$internal$$REJECTED]  = onRejection;\n\n      if (length === 0 && parent._state) {\n        lib$es6$promise$asap$$default(lib$es6$promise$$internal$$publish, parent);\n      }\n    }\n\n    function lib$es6$promise$$internal$$publish(promise) {\n      var subscribers = promise._subscribers;\n      var settled = promise._state;\n\n      if (subscribers.length === 0) { return; }\n\n      var child, callback, detail = promise._result;\n\n      for (var i = 0; i < subscribers.length; i += 3) {\n        child = subscribers[i];\n        callback = subscribers[i + settled];\n\n        if (child) {\n          lib$es6$promise$$internal$$invokeCallback(settled, child, callback, detail);\n        } else {\n          callback(detail);\n        }\n      }\n\n      promise._subscribers.length = 0;\n    }\n\n    function lib$es6$promise$$internal$$ErrorObject() {\n      this.error = null;\n    }\n\n    var lib$es6$promise$$internal$$TRY_CATCH_ERROR = new lib$es6$promise$$internal$$ErrorObject();\n\n    function lib$es6$promise$$internal$$tryCatch(callback, detail) {\n      try {\n        return callback(detail);\n      } catch(e) {\n        lib$es6$promise$$internal$$TRY_CATCH_ERROR.error = e;\n        return lib$es6$promise$$internal$$TRY_CATCH_ERROR;\n      }\n    }\n\n    function lib$es6$promise$$internal$$invokeCallback(settled, promise, callback, detail) {\n      var hasCallback = lib$es6$promise$utils$$isFunction(callback),\n          value, error, succeeded, failed;\n\n      if (hasCallback) {\n        value = lib$es6$promise$$internal$$tryCatch(callback, detail);\n\n        if (value === lib$es6$promise$$internal$$TRY_CATCH_ERROR) {\n          failed = true;\n          error = value.error;\n          value = null;\n        } else {\n          succeeded = true;\n        }\n\n        if (promise === value) {\n          lib$es6$promise$$internal$$reject(promise, lib$es6$promise$$internal$$cannotReturnOwn());\n          return;\n        }\n\n      } else {\n        value = detail;\n        succeeded = true;\n      }\n\n      if (promise._state !== lib$es6$promise$$internal$$PENDING) {\n        // noop\n      } else if (hasCallback && succeeded) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      } else if (failed) {\n        lib$es6$promise$$internal$$reject(promise, error);\n      } else if (settled === lib$es6$promise$$internal$$FULFILLED) {\n        lib$es6$promise$$internal$$fulfill(promise, value);\n      } else if (settled === lib$es6$promise$$internal$$REJECTED) {\n        lib$es6$promise$$internal$$reject(promise, value);\n      }\n    }\n\n    function lib$es6$promise$$internal$$initializePromise(promise, resolver) {\n      try {\n        resolver(function resolvePromise(value){\n          lib$es6$promise$$internal$$resolve(promise, value);\n        }, function rejectPromise(reason) {\n          lib$es6$promise$$internal$$reject(promise, reason);\n        });\n      } catch(e) {\n        lib$es6$promise$$internal$$reject(promise, e);\n      }\n    }\n\n    function lib$es6$promise$enumerator$$Enumerator(Constructor, input) {\n      var enumerator = this;\n\n      enumerator._instanceConstructor = Constructor;\n      enumerator.promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (enumerator._validateInput(input)) {\n        enumerator._input     = input;\n        enumerator.length     = input.length;\n        enumerator._remaining = input.length;\n\n        enumerator._init();\n\n        if (enumerator.length === 0) {\n          lib$es6$promise$$internal$$fulfill(enumerator.promise, enumerator._result);\n        } else {\n          enumerator.length = enumerator.length || 0;\n          enumerator._enumerate();\n          if (enumerator._remaining === 0) {\n            lib$es6$promise$$internal$$fulfill(enumerator.promise, enumerator._result);\n          }\n        }\n      } else {\n        lib$es6$promise$$internal$$reject(enumerator.promise, enumerator._validationError());\n      }\n    }\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._validateInput = function(input) {\n      return lib$es6$promise$utils$$isArray(input);\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._validationError = function() {\n      return new Error('Array Methods must be provided an Array');\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._init = function() {\n      this._result = new Array(this.length);\n    };\n\n    var lib$es6$promise$enumerator$$default = lib$es6$promise$enumerator$$Enumerator;\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._enumerate = function() {\n      var enumerator = this;\n\n      var length  = enumerator.length;\n      var promise = enumerator.promise;\n      var input   = enumerator._input;\n\n      for (var i = 0; promise._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        enumerator._eachEntry(input[i], i);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n      var enumerator = this;\n      var c = enumerator._instanceConstructor;\n\n      if (lib$es6$promise$utils$$isMaybeThenable(entry)) {\n        if (entry.constructor === c && entry._state !== lib$es6$promise$$internal$$PENDING) {\n          entry._onerror = null;\n          enumerator._settledAt(entry._state, i, entry._result);\n        } else {\n          enumerator._willSettleAt(c.resolve(entry), i);\n        }\n      } else {\n        enumerator._remaining--;\n        enumerator._result[i] = entry;\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n      var enumerator = this;\n      var promise = enumerator.promise;\n\n      if (promise._state === lib$es6$promise$$internal$$PENDING) {\n        enumerator._remaining--;\n\n        if (state === lib$es6$promise$$internal$$REJECTED) {\n          lib$es6$promise$$internal$$reject(promise, value);\n        } else {\n          enumerator._result[i] = value;\n        }\n      }\n\n      if (enumerator._remaining === 0) {\n        lib$es6$promise$$internal$$fulfill(promise, enumerator._result);\n      }\n    };\n\n    lib$es6$promise$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n      var enumerator = this;\n\n      lib$es6$promise$$internal$$subscribe(promise, undefined, function(value) {\n        enumerator._settledAt(lib$es6$promise$$internal$$FULFILLED, i, value);\n      }, function(reason) {\n        enumerator._settledAt(lib$es6$promise$$internal$$REJECTED, i, reason);\n      });\n    };\n    function lib$es6$promise$promise$all$$all(entries) {\n      return new lib$es6$promise$enumerator$$default(this, entries).promise;\n    }\n    var lib$es6$promise$promise$all$$default = lib$es6$promise$promise$all$$all;\n    function lib$es6$promise$promise$race$$race(entries) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n\n      if (!lib$es6$promise$utils$$isArray(entries)) {\n        lib$es6$promise$$internal$$reject(promise, new TypeError('You must pass an array to race.'));\n        return promise;\n      }\n\n      var length = entries.length;\n\n      function onFulfillment(value) {\n        lib$es6$promise$$internal$$resolve(promise, value);\n      }\n\n      function onRejection(reason) {\n        lib$es6$promise$$internal$$reject(promise, reason);\n      }\n\n      for (var i = 0; promise._state === lib$es6$promise$$internal$$PENDING && i < length; i++) {\n        lib$es6$promise$$internal$$subscribe(Constructor.resolve(entries[i]), undefined, onFulfillment, onRejection);\n      }\n\n      return promise;\n    }\n    var lib$es6$promise$promise$race$$default = lib$es6$promise$promise$race$$race;\n    function lib$es6$promise$promise$resolve$$resolve(object) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (object && typeof object === 'object' && object.constructor === Constructor) {\n        return object;\n      }\n\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$resolve(promise, object);\n      return promise;\n    }\n    var lib$es6$promise$promise$resolve$$default = lib$es6$promise$promise$resolve$$resolve;\n    function lib$es6$promise$promise$reject$$reject(reason) {\n      /*jshint validthis:true */\n      var Constructor = this;\n      var promise = new Constructor(lib$es6$promise$$internal$$noop);\n      lib$es6$promise$$internal$$reject(promise, reason);\n      return promise;\n    }\n    var lib$es6$promise$promise$reject$$default = lib$es6$promise$promise$reject$$reject;\n\n    var lib$es6$promise$promise$$counter = 0;\n\n    function lib$es6$promise$promise$$needsResolver() {\n      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n    }\n\n    function lib$es6$promise$promise$$needsNew() {\n      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n    }\n\n    var lib$es6$promise$promise$$default = lib$es6$promise$promise$$Promise;\n    /**\n      Promise objects represent the eventual result of an asynchronous operation. The\n      primary way of interacting with a promise is through its `then` method, which\n      registers callbacks to receive either a promise’s eventual value or the reason\n      why the promise cannot be fulfilled.\n\n      Terminology\n      -----------\n\n      - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n      - `thenable` is an object or function that defines a `then` method.\n      - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n      - `exception` is a value that is thrown using the throw statement.\n      - `reason` is a value that indicates why a promise was rejected.\n      - `settled` the final resting state of a promise, fulfilled or rejected.\n\n      A promise can be in one of three states: pending, fulfilled, or rejected.\n\n      Promises that are fulfilled have a fulfillment value and are in the fulfilled\n      state.  Promises that are rejected have a rejection reason and are in the\n      rejected state.  A fulfillment value is never a thenable.\n\n      Promises can also be said to *resolve* a value.  If this value is also a\n      promise, then the original promise's settled state will match the value's\n      settled state.  So a promise that *resolves* a promise that rejects will\n      itself reject, and a promise that *resolves* a promise that fulfills will\n      itself fulfill.\n\n\n      Basic Usage:\n      ------------\n\n      ```js\n      var promise = new Promise(function(resolve, reject) {\n        // on success\n        resolve(value);\n\n        // on failure\n        reject(reason);\n      });\n\n      promise.then(function(value) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Advanced Usage:\n      ---------------\n\n      Promises shine when abstracting away asynchronous interactions such as\n      `XMLHttpRequest`s.\n\n      ```js\n      function getJSON(url) {\n        return new Promise(function(resolve, reject){\n          var xhr = new XMLHttpRequest();\n\n          xhr.open('GET', url);\n          xhr.onreadystatechange = handler;\n          xhr.responseType = 'json';\n          xhr.setRequestHeader('Accept', 'application/json');\n          xhr.send();\n\n          function handler() {\n            if (this.readyState === this.DONE) {\n              if (this.status === 200) {\n                resolve(this.response);\n              } else {\n                reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n              }\n            }\n          };\n        });\n      }\n\n      getJSON('/posts.json').then(function(json) {\n        // on fulfillment\n      }, function(reason) {\n        // on rejection\n      });\n      ```\n\n      Unlike callbacks, promises are great composable primitives.\n\n      ```js\n      Promise.all([\n        getJSON('/posts'),\n        getJSON('/comments')\n      ]).then(function(values){\n        values[0] // => postsJSON\n        values[1] // => commentsJSON\n\n        return values;\n      });\n      ```\n\n      @class Promise\n      @param {function} resolver\n      Useful for tooling.\n      @constructor\n    */\n    function lib$es6$promise$promise$$Promise(resolver) {\n      this._id = lib$es6$promise$promise$$counter++;\n      this._state = undefined;\n      this._result = undefined;\n      this._subscribers = [];\n\n      if (lib$es6$promise$$internal$$noop !== resolver) {\n        if (!lib$es6$promise$utils$$isFunction(resolver)) {\n          lib$es6$promise$promise$$needsResolver();\n        }\n\n        if (!(this instanceof lib$es6$promise$promise$$Promise)) {\n          lib$es6$promise$promise$$needsNew();\n        }\n\n        lib$es6$promise$$internal$$initializePromise(this, resolver);\n      }\n    }\n\n    lib$es6$promise$promise$$Promise.all = lib$es6$promise$promise$all$$default;\n    lib$es6$promise$promise$$Promise.race = lib$es6$promise$promise$race$$default;\n    lib$es6$promise$promise$$Promise.resolve = lib$es6$promise$promise$resolve$$default;\n    lib$es6$promise$promise$$Promise.reject = lib$es6$promise$promise$reject$$default;\n\n    lib$es6$promise$promise$$Promise.prototype = {\n      constructor: lib$es6$promise$promise$$Promise,\n\n    /**\n      The primary way of interacting with a promise is through its `then` method,\n      which registers callbacks to receive either a promise's eventual value or the\n      reason why the promise cannot be fulfilled.\n\n      ```js\n      findUser().then(function(user){\n        // user is available\n      }, function(reason){\n        // user is unavailable, and you are given the reason why\n      });\n      ```\n\n      Chaining\n      --------\n\n      The return value of `then` is itself a promise.  This second, 'downstream'\n      promise is resolved with the return value of the first promise's fulfillment\n      or rejection handler, or rejected if the handler throws an exception.\n\n      ```js\n      findUser().then(function (user) {\n        return user.name;\n      }, function (reason) {\n        return 'default name';\n      }).then(function (userName) {\n        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n        // will be `'default name'`\n      });\n\n      findUser().then(function (user) {\n        throw new Error('Found user, but still unhappy');\n      }, function (reason) {\n        throw new Error('`findUser` rejected and we're unhappy');\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n      });\n      ```\n      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n      ```js\n      findUser().then(function (user) {\n        throw new PedagogicalException('Upstream error');\n      }).then(function (value) {\n        // never reached\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // The `PedgagocialException` is propagated all the way down to here\n      });\n      ```\n\n      Assimilation\n      ------------\n\n      Sometimes the value you want to propagate to a downstream promise can only be\n      retrieved asynchronously. This can be achieved by returning a promise in the\n      fulfillment or rejection handler. The downstream promise will then be pending\n      until the returned promise is settled. This is called *assimilation*.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // The user's comments are now available\n      });\n      ```\n\n      If the assimliated promise rejects, then the downstream promise will also reject.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // If `findCommentsByAuthor` fulfills, we'll have the value here\n      }, function (reason) {\n        // If `findCommentsByAuthor` rejects, we'll have the reason here\n      });\n      ```\n\n      Simple Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var result;\n\n      try {\n        result = findResult();\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n      findResult(function(result, err){\n        if (err) {\n          // failure\n        } else {\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findResult().then(function(result){\n        // success\n      }, function(reason){\n        // failure\n      });\n      ```\n\n      Advanced Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var author, books;\n\n      try {\n        author = findAuthor();\n        books  = findBooksByAuthor(author);\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n\n      function foundBooks(books) {\n\n      }\n\n      function failure(reason) {\n\n      }\n\n      findAuthor(function(author, err){\n        if (err) {\n          failure(err);\n          // failure\n        } else {\n          try {\n            findBoooksByAuthor(author, function(books, err) {\n              if (err) {\n                failure(err);\n              } else {\n                try {\n                  foundBooks(books);\n                } catch(reason) {\n                  failure(reason);\n                }\n              }\n            });\n          } catch(error) {\n            failure(err);\n          }\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findAuthor().\n        then(findBooksByAuthor).\n        then(function(books){\n          // found books\n      }).catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method then\n      @param {Function} onFulfilled\n      @param {Function} onRejected\n      Useful for tooling.\n      @return {Promise}\n    */\n      then: function(onFulfillment, onRejection) {\n        var parent = this;\n        var state = parent._state;\n\n        if (state === lib$es6$promise$$internal$$FULFILLED && !onFulfillment || state === lib$es6$promise$$internal$$REJECTED && !onRejection) {\n          return this;\n        }\n\n        var child = new this.constructor(lib$es6$promise$$internal$$noop);\n        var result = parent._result;\n\n        if (state) {\n          var callback = arguments[state - 1];\n          lib$es6$promise$asap$$default(function(){\n            lib$es6$promise$$internal$$invokeCallback(state, child, callback, result);\n          });\n        } else {\n          lib$es6$promise$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n        }\n\n        return child;\n      },\n\n    /**\n      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n      as the catch block of a try/catch statement.\n\n      ```js\n      function findAuthor(){\n        throw new Error('couldn't find that author');\n      }\n\n      // synchronous\n      try {\n        findAuthor();\n      } catch(reason) {\n        // something went wrong\n      }\n\n      // async with promises\n      findAuthor().catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method catch\n      @param {Function} onRejection\n      Useful for tooling.\n      @return {Promise}\n    */\n      'catch': function(onRejection) {\n        return this.then(null, onRejection);\n      }\n    };\n    function lib$es6$promise$polyfill$$polyfill() {\n      var local;\n\n      if (typeof global !== 'undefined') {\n          local = global;\n      } else if (typeof self !== 'undefined') {\n          local = self;\n      } else {\n          try {\n              local = Function('return this')();\n          } catch (e) {\n              throw new Error('polyfill failed because global object is unavailable in this environment');\n          }\n      }\n\n      var P = local.Promise;\n\n      if (P && Object.prototype.toString.call(P.resolve()) === '[object Promise]' && !P.cast) {\n        return;\n      }\n\n      local.Promise = lib$es6$promise$promise$$default;\n    }\n    var lib$es6$promise$polyfill$$default = lib$es6$promise$polyfill$$polyfill;\n\n    var lib$es6$promise$umd$$ES6Promise = {\n      'Promise': lib$es6$promise$promise$$default,\n      'polyfill': lib$es6$promise$polyfill$$default\n    };\n\n    /* global define:true module:true window: true */\n    if (typeof define === 'function' && define['amd']) {\n      define(function() { return lib$es6$promise$umd$$ES6Promise; });\n    } else if (typeof module !== 'undefined' && module['exports']) {\n      module['exports'] = lib$es6$promise$umd$$ES6Promise;\n    } else if (typeof this !== 'undefined') {\n      this['ES6Promise'] = lib$es6$promise$umd$$ES6Promise;\n    }\n\n    lib$es6$promise$polyfill$$default();\n}).call(this);\n\n","(function (root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function () {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function StackFrame(functionName, args, fileName, lineNumber, columnNumber) {\n        if (functionName !== undefined) {\n            this.setFunctionName(functionName);\n        }\n        if (args !== undefined) {\n            this.setArgs(args);\n        }\n        if (fileName !== undefined) {\n            this.setFileName(fileName);\n        }\n        if (lineNumber !== undefined) {\n            this.setLineNumber(lineNumber);\n        }\n        if (columnNumber !== undefined) {\n            this.setColumnNumber(columnNumber);\n        }\n    }\n\n    StackFrame.prototype = {\n        getFunctionName: function () {\n            return this.functionName;\n        },\n        setFunctionName: function (v) {\n            this.functionName = String(v);\n        },\n\n        getArgs: function () {\n            return this.args;\n        },\n        setArgs: function (v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        // NOTE: Property name may be misleading as it includes the path,\n        // but it somewhat mirrors V8's JavaScriptStackTraceApi\n        // https://code.google.com/p/v8/wiki/JavaScriptStackTraceApi and Gecko's\n        // http://mxr.mozilla.org/mozilla-central/source/xpcom/base/nsIException.idl#14\n        getFileName: function () {\n            return this.fileName;\n        },\n        setFileName: function (v) {\n            this.fileName = String(v);\n        },\n\n        getLineNumber: function () {\n            return this.lineNumber;\n        },\n        setLineNumber: function (v) {\n            if (!_isNumber(v)) {\n                throw new TypeError('Line Number must be a Number');\n            }\n            this.lineNumber = Number(v);\n        },\n\n        getColumnNumber: function () {\n            return this.columnNumber;\n        },\n        setColumnNumber: function (v) {\n            if (!_isNumber(v)) {\n                throw new TypeError('Column Number must be a Number');\n            }\n            this.columnNumber = Number(v);\n        },\n\n        toString: function() {\n            var functionName = this.getFunctionName() || '{anonymous}';\n            var args = '(' + (this.getArgs() || []).join(',') + ')';\n            var fileName = this.getFileName() ? ('@' + this.getFileName()) : '';\n            var lineNumber = _isNumber(this.getLineNumber()) ? (':' + this.getLineNumber()) : '';\n            var columnNumber = _isNumber(this.getColumnNumber()) ? (':' + this.getColumnNumber()) : '';\n            return functionName + args + fileName + lineNumber + columnNumber;\n        }\n    };\n\n    return StackFrame;\n}));\n",null,null,"(function (root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n    if (typeof define === 'function' && define.amd) {\n        define('stack-generator', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.StackGenerator = factory(root.StackFrame);\n    }\n}(this, function (StackFrame) {\n    return {\n        backtrace: function StackGenerator$$backtrace(opts) {\n            var stack = [];\n            var maxStackSize = 10;\n\n            if (typeof opts === 'object' && typeof opts.maxStackSize === 'number') {\n                maxStackSize = opts.maxStackSize;\n            }\n\n            var curr = arguments.callee;\n            while (curr && stack.length < maxStackSize) {\n                var args = [].slice.call(curr['arguments']);\n                if (/function(?:\\s+([\\w$]+))?\\s*\\(/.test(curr.toString())) {\n                    stack.push(new StackFrame(RegExp.$1 || undefined, args));\n                } else {\n                    stack.push(new StackFrame(undefined, args));\n                }\n\n                try {\n                    curr = curr.caller;\n                } catch (e) {\n                    break;\n                }\n            }\n            return stack;\n        }\n    };\n}));\n","(function (root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n    if (typeof define === 'function' && define.amd) {\n        define('stacktrace-gps', ['source-map', 'es6-promise', 'stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('source-map/lib/source-map/source-map-consumer'), require('es6-promise'), require('stackframe'));\n    } else {\n        root.StackTraceGPS = factory(root.SourceMap, root.ES6Promise, root.StackFrame);\n    }\n}(this, function (SourceMap, ES6Promise) {\n    'use strict';\n    ES6Promise.polyfill();\n    var Promise = ES6Promise.Promise;\n\n    /**\n     * Create XHR or equivalent object for this environment.\n     * @returns XMLHttpRequest, XDomainRequest or ActiveXObject\n     * @private\n     */\n    function _createXMLHTTPObject() {\n        var xmlhttp;\n        var XMLHttpFactories = [\n            function () {\n                return new XMLHttpRequest();\n            }, function () {\n                return new ActiveXObject('Microsoft.XMLHTTP');\n            }\n        ];\n        for (var i = 0; i < XMLHttpFactories.length; i++) {\n            try {\n                xmlhttp = XMLHttpFactories[i]();\n                // Use memoization to cache the factory\n                _createXMLHTTPObject = XMLHttpFactories[i]; // jshint ignore:line\n                return xmlhttp;\n            } catch (e) {\n            }\n        }\n    }\n\n    /**\n     * Make a X-Domain request to url and callback.\n     *\n     * @param url [String]\n     * @param callback [Function] to callback on completion\n     * @param errback [Function] to callback on error\n     */\n    function _xdr(url, callback, errback) {\n        var req = _createXMLHTTPObject();\n        req.open('get', url);\n        req.onerror = errback;\n        req.onreadystatechange = function onreadystatechange() {\n            if (req.readyState === 4) {\n                if (req.status >= 200 && req.status < 400) {\n                    return callback(req.responseText);\n                } else {\n                    errback(new Error('Unable to retrieve ' + url));\n                }\n            }\n        };\n        req.send();\n    }\n\n    function _findFunctionName(source, lineNumber, columnNumber) {\n        // function {name}({args}) m[1]=name m[2]=args\n        var reFunctionDeclaration = /function\\s+([^(]*?)\\s*\\(([^)]*)\\)/;\n        // {name} = function ({args}) TODO args capture\n        var reFunctionExpression = /['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*function\\b/;\n        // {name} = eval()\n        var reFunctionEvaluation = /['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*(?:eval|new Function)\\b/;\n        var lines = source.split(\"\\n\");\n\n        // Walk backwards in the source lines until we find the line which matches one of the patterns above\n        var code = '', line, maxLines = Math.min(lineNumber, 20), m, commentPos;\n        for (var i = 0; i < maxLines; ++i) {\n            // lineNo is 1-based, source[] is 0-based\n            line = lines[lineNumber - i - 1];\n            commentPos = line.indexOf('//');\n            if (commentPos >= 0) {\n                line = line.substr(0, commentPos);\n            }\n\n            if (line) {\n                code = line + code;\n                m = reFunctionExpression.exec(code);\n                if (m && m[1]) {\n                    return m[1];\n                }\n                m = reFunctionDeclaration.exec(code);\n                if (m && m[1]) {\n                    //return m[1] + \"(\" + (m[2] || \"\") + \")\";\n                    return m[1];\n                }\n                m = reFunctionEvaluation.exec(code);\n                if (m && m[1]) {\n                    return m[1];\n                }\n            }\n        }\n        return undefined;\n    }\n\n    function _ensureSupportedEnvironment() {\n        if (typeof Object.defineProperty !== 'function' || typeof Object.create !== 'function') {\n            throw new Error('Unable to consume source maps in older browsers');\n        }\n    }\n\n    function _ensureStackFrameIsLegit(stackframe) {\n        if (typeof stackframe !== 'object') {\n            throw new TypeError('Given StackFrame is not an object');\n        } else if (typeof stackframe.fileName !== 'string') {\n            throw new TypeError('Given file name is not a String');\n        } else if (typeof stackframe.lineNumber !== 'number' || stackframe.lineNumber % 1 !== 0 || stackframe.lineNumber < 1) {\n            throw new TypeError('Given line number must be a positive integer');\n        } else if (typeof stackframe.columnNumber !== 'number' || stackframe.columnNumber % 1 !== 0 || stackframe.columnNumber < 0) {\n            throw new TypeError('Given column number must be a non-negative integer');\n        }\n        return true;\n    }\n\n    function _findSourceMappingURL(source) {\n        var m = /\\/\\/[#@] ?sourceMappingURL=([^\\s'\"]+)$/.exec(source);\n        if (m && m[1]) {\n            return m[1];\n        } else {\n            throw new Error('sourceMappingURL not found');\n        }\n    }\n\n    function _newLocationInfoFromSourceMap(rawSourceMap, args, lineNumber, columnNumber) {\n        var loc = new SourceMap.SourceMapConsumer(rawSourceMap)\n            .originalPositionFor({line: lineNumber, column: columnNumber});\n        return new StackFrame(loc.name, args, loc.source, loc.line, loc.column);\n    }\n\n    /**\n     * @param opts: [Object] options.\n     *      opts.sourceCache = {url: \"Source String\"} => preload source cache\n     *      opts.offline = True to prevent network requests.\n     *              Best effort without sources or source maps.\n     */\n    return function StackTraceGPS(opts) {\n        if (!(this instanceof StackTraceGPS)) {\n            return new StackTraceGPS(opts);\n        }\n        opts = opts || {};\n\n        this.sourceCache = opts.sourceCache || {};\n\n        this._get = function _get(location) {\n            return new Promise(function (resolve, reject) {\n                if (this.sourceCache[location]) {\n                    resolve(this.sourceCache[location]);\n                } else if (opts.offline) {\n                    reject(new Error('Cannot make network requests in offline mode'));\n                } else {\n                    _xdr(location, function (source) {\n                        this.sourceCache[location] = source;\n                        resolve(source);\n                    }.bind(this), reject);\n                }\n            }.bind(this));\n        };\n\n        /**\n         * Given a StackFrame, enhance function name and use source maps for a\n         * better StackFrame.\n         *\n         * @param stackframe - {StackFrame}-like object\n         *      {fileName: 'path/to/file.js', lineNumber: 100, columnNumber: 5}\n         * @return StackFrame with source-mapped location\n         */\n        this.pinpoint = function StackTraceGPS$$pinpoint(stackframe) {\n            return this.getMappedLocation(stackframe)\n                .then(this.findFunctionName.bind(this));\n        };\n\n        /**\n         * Given a StackFrame, guess function name from location information.\n         *\n         * @param stackframe - {StackFrame}-like object\n         *      {fileName: 'path/to/file.js', lineNumber: 100, columnNumber: 5}\n         * @return StackFrame with guessed function name\n         */\n        this.findFunctionName = function StackTraceGPS$$findFunctionName(stackframe) {\n            return new Promise(function (resolve, reject) {\n                _ensureStackFrameIsLegit(stackframe);\n                this._get(stackframe.fileName).then(function getSourceCallback(source) {\n                    var guessedFunctionName = _findFunctionName(source, stackframe.lineNumber, stackframe.columnNumber);\n                    resolve(new StackFrame(guessedFunctionName, stackframe.args, stackframe.fileName, stackframe.lineNumber, stackframe.columnNumber));\n                }, reject);\n            }.bind(this));\n        };\n\n        /**\n         * Given a StackFrame, seek source-mapped location and return new enhanced StackFrame.\n         *\n         * @param stackframe - {StackFrame}-like object\n         *      {fileName: 'path/to/file.js', lineNumber: 100, columnNumber: 5}\n         * @return StackFrame with source-mapped location\n         */\n        this.getMappedLocation = function StackTraceGPS$$getMappedLocation(stackframe) {\n            return new Promise(function (resolve, reject) {\n                _ensureSupportedEnvironment();\n                _ensureStackFrameIsLegit(stackframe);\n\n                this._get(stackframe.fileName).then(function (source) {\n                    this._get(_findSourceMappingURL(source)).then(function (map) {\n                        var lineNumber = stackframe.lineNumber;\n                        var columnNumber = stackframe.columnNumber;\n                        resolve(_newLocationInfoFromSourceMap(map, stackframe.args, lineNumber, columnNumber));\n                    }, reject)['catch'](reject);\n                }.bind(this), reject)['catch'](reject);\n            }.bind(this));\n        };\n    };\n}));\n",null,"var ContextData = (function () {\n    function ContextData() {\n    }\n    ContextData.prototype.setException = function (exception) {\n        this['@@_Exception'] = exception;\n    };\n    Object.defineProperty(ContextData.prototype, \"hasException\", {\n        get: function () {\n            return !!this['@@_Exception'];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ContextData.prototype.getException = function () {\n        if (!this.hasException) {\n            return null;\n        }\n        return this['@@_Exception'];\n    };\n    ContextData.prototype.markAsUnhandledError = function () {\n        this['@@_IsUnhandledError'] = true;\n    };\n    Object.defineProperty(ContextData.prototype, \"isUnhandledError\", {\n        get: function () {\n            return !!this['@@_IsUnhandledError'];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ContextData.prototype.setSubmissionMethod = function (method) {\n        this['@@_SubmissionMethod'] = method;\n    };\n    ContextData.prototype.getSubmissionMethod = function () {\n        if (!!this['@@_SubmissionMethod']) {\n            return null;\n        }\n        return this['@@_SubmissionMethod'];\n    };\n    return ContextData;\n})();\nexports.ContextData = ContextData;\nvar InMemoryLastReferenceIdManager = (function () {\n    function InMemoryLastReferenceIdManager() {\n        this._lastReferenceId = null;\n    }\n    InMemoryLastReferenceIdManager.prototype.getLast = function () {\n        return this._lastReferenceId;\n    };\n    InMemoryLastReferenceIdManager.prototype.clearLast = function () {\n        this._lastReferenceId = null;\n    };\n    InMemoryLastReferenceIdManager.prototype.setLast = function (eventId) {\n        this._lastReferenceId = eventId;\n    };\n    return InMemoryLastReferenceIdManager;\n})();\nexports.InMemoryLastReferenceIdManager = InMemoryLastReferenceIdManager;\nvar ConsoleLog = (function () {\n    function ConsoleLog() {\n    }\n    ConsoleLog.prototype.info = function (message) {\n        if (console && console.info) {\n            console.info(\"[INFO] Exceptionless:\" + message);\n        }\n    };\n    ConsoleLog.prototype.warn = function (message) {\n        if (console && console.warn) {\n            console.warn(\"[Warn] Exceptionless:\" + message);\n        }\n    };\n    ConsoleLog.prototype.error = function (message) {\n        if (console && console.error) {\n            console.error(\"[Error] Exceptionless:\" + message);\n        }\n    };\n    return ConsoleLog;\n})();\nexports.ConsoleLog = ConsoleLog;\nvar NullLog = (function () {\n    function NullLog() {\n    }\n    NullLog.prototype.info = function (message) { };\n    NullLog.prototype.warn = function (message) { };\n    NullLog.prototype.error = function (message) { };\n    return NullLog;\n})();\nexports.NullLog = NullLog;\nvar EventPluginContext = (function () {\n    function EventPluginContext(client, event, contextData) {\n        this.cancel = false;\n        this.client = client;\n        this.event = event;\n        this.contextData = contextData ? contextData : new ContextData();\n    }\n    Object.defineProperty(EventPluginContext.prototype, \"log\", {\n        get: function () {\n            return this.client.config.log;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return EventPluginContext;\n})();\nexports.EventPluginContext = EventPluginContext;\nvar EventPluginManager = (function () {\n    function EventPluginManager() {\n    }\n    EventPluginManager.run = function (context) {\n        return context.client.config.plugins.reduce(function (promise, plugin) {\n            return promise.then(function () {\n                return plugin.run(context);\n            });\n        }, Promise.resolve());\n    };\n    EventPluginManager.addDefaultPlugins = function (config) {\n        config.addPlugin(new ConfigurationDefaultsPlugin());\n        config.addPlugin(new ErrorPlugin());\n        config.addPlugin(new DuplicateCheckerPlugin());\n        config.addPlugin(new ModuleInfoPlugin());\n        config.addPlugin(new RequestInfoPlugin());\n        config.addPlugin(new EnvironmentInfoPlugin());\n        config.addPlugin(new SubmissionMethodPlugin());\n    };\n    return EventPluginManager;\n})();\nexports.EventPluginManager = EventPluginManager;\nvar ReferenceIdPlugin = (function () {\n    function ReferenceIdPlugin() {\n        this.priority = 20;\n        this.name = 'ReferenceIdPlugin';\n    }\n    ReferenceIdPlugin.prototype.run = function (context) {\n        if ((!context.event.reference_id || context.event.reference_id.length === 0) && context.event.type === 'error') {\n            context.event.reference_id = Utils.guid().replace('-', '').substring(0, 10);\n        }\n        return Promise.resolve();\n    };\n    return ReferenceIdPlugin;\n})();\nexports.ReferenceIdPlugin = ReferenceIdPlugin;\nvar DefaultEventQueue = (function () {\n    function DefaultEventQueue(config) {\n        this._processingQueue = false;\n        this._config = config;\n    }\n    DefaultEventQueue.prototype.enqueue = function (event) {\n        this.ensureQueueTimer();\n        if (this.areQueuedItemsDiscarded()) {\n            this._config.log.info('Queue items are currently being discarded. The event will not be queued.');\n            return;\n        }\n        var key = this.queuePath() + \"-\" + new Date().toJSON() + \"-\" + Utils.randomNumber();\n        this._config.log.info(\"Enqueuing event: \" + key);\n        return this._config.storage.save(key, event);\n    };\n    DefaultEventQueue.prototype.process = function () {\n        var _this = this;\n        this.ensureQueueTimer();\n        if (this._processingQueue) {\n            return;\n        }\n        this._config.log.info('Processing queue...');\n        if (!this._config.enabled) {\n            this._config.log.info('Configuration is disabled. The queue will not be processed.');\n            return;\n        }\n        this._processingQueue = true;\n        try {\n            var events = this._config.storage.get(this.queuePath(), this._config.submissionBatchSize);\n            if (!events || events.length == 0) {\n                this._config.log.info('There are currently no queued events to process.');\n                return;\n            }\n            this._config.log.info(\"Sending \" + events.length + \" events to \" + this._config.serverUrl + \".\");\n            this._config.submissionClient.submit(events, this._config)\n                .then(function (response) { return _this.processSubmissionResponse(response, events); }, function (response) { return _this.processSubmissionResponse(response, events); })\n                .then(function () {\n                _this._config.log.info('Finished processing queue.');\n                _this._processingQueue = false;\n            });\n        }\n        catch (ex) {\n            this._config.log.error(\"An error occurred while processing the queue: \" + ex);\n            this.suspendProcessing();\n            this._processingQueue = false;\n        }\n    };\n    DefaultEventQueue.prototype.processSubmissionResponse = function (response, events) {\n        if (response.success) {\n            this._config.log.info(\"Sent \" + events.length + \" events to \" + this._config.serverUrl + \".\");\n            return;\n        }\n        if (response.serviceUnavailable) {\n            this._config.log.error('Server returned service unavailable.');\n            this.suspendProcessing();\n            this.requeueEvents(events);\n            return;\n        }\n        if (response.paymentRequired) {\n            this._config.log.info('Too many events have been submitted, please upgrade your plan.');\n            this.suspendProcessing(null, true, true);\n            return;\n        }\n        if (response.unableToAuthenticate) {\n            this._config.log.info('Unable to authenticate, please check your configuration. The event will not be submitted.');\n            this.suspendProcessing(15);\n            return;\n        }\n        if (response.notFound || response.badRequest) {\n            this._config.log.error(\"Error while trying to submit data: \" + response.message);\n            this.suspendProcessing(60 * 4);\n            return;\n        }\n        if (response.requestEntityTooLarge) {\n            if (this._config.submissionBatchSize > 1) {\n                this._config.log.error('Event submission discarded for being too large. The event will be retried with a smaller events size.');\n                this._config.submissionBatchSize = Math.max(1, Math.round(this._config.submissionBatchSize / 1.5));\n                this.requeueEvents(events);\n            }\n            else {\n                this._config.log.error('Event submission discarded for being too large. The event will not be submitted.');\n            }\n            return;\n        }\n        if (!response.success) {\n            this._config.log.error(\"An error occurred while submitting events: \" + response.message);\n            this.suspendProcessing();\n            this.requeueEvents(events);\n        }\n    };\n    DefaultEventQueue.prototype.ensureQueueTimer = function () {\n        var _this = this;\n        if (!this._queueTimer) {\n            this._queueTimer = setInterval(function () { return _this.onProcessQueue(); }, 10000);\n        }\n    };\n    DefaultEventQueue.prototype.onProcessQueue = function () {\n        if (!this.isQueueProcessingSuspended() && !this._processingQueue) {\n            this.process();\n        }\n    };\n    DefaultEventQueue.prototype.suspendProcessing = function (durationInMinutes, discardFutureQueuedItems, clearQueue) {\n        if (!durationInMinutes || durationInMinutes <= 0) {\n            durationInMinutes = 5;\n        }\n        this._config.log.info(\"Suspending processing for \" + durationInMinutes + \" minutes.\");\n        this._suspendProcessingUntil = new Date(new Date().getTime() + (durationInMinutes * 60000));\n        if (discardFutureQueuedItems) {\n            this._discardQueuedItemsUntil = new Date(new Date().getTime() + (durationInMinutes * 60000));\n        }\n        if (!clearQueue) {\n            return;\n        }\n        try {\n            this._config.storage.clear(this.queuePath());\n        }\n        catch (Exception) { }\n    };\n    DefaultEventQueue.prototype.requeueEvents = function (events) {\n        this._config.log.info(\"Requeuing \" + events.length + \" events.\");\n        for (var index = 0; index < events.length; index++) {\n            this.enqueue(events[index]);\n        }\n    };\n    DefaultEventQueue.prototype.isQueueProcessingSuspended = function () {\n        return this._suspendProcessingUntil && this._suspendProcessingUntil > new Date();\n    };\n    DefaultEventQueue.prototype.areQueuedItemsDiscarded = function () {\n        return this._discardQueuedItemsUntil && this._discardQueuedItemsUntil > new Date();\n    };\n    DefaultEventQueue.prototype.queuePath = function () {\n        return !!this._config.apiKey ? \"ex-\" + this._config.apiKey.slice(0, 8) + \"-q\" : null;\n    };\n    return DefaultEventQueue;\n})();\nexports.DefaultEventQueue = DefaultEventQueue;\nvar InMemoryStorage = (function () {\n    function InMemoryStorage() {\n        this._items = {};\n    }\n    InMemoryStorage.prototype.save = function (path, value) {\n        this._items[path] = value;\n        return true;\n    };\n    InMemoryStorage.prototype.get = function (searchPattern, limit) {\n        var results = [];\n        var regex = new RegExp(searchPattern || '.*');\n        for (var key in this._items) {\n            if (results.length >= limit) {\n                break;\n            }\n            if (regex.test(key)) {\n                results.push(this._items[key]);\n                delete this._items[key];\n            }\n        }\n        return results;\n    };\n    InMemoryStorage.prototype.clear = function (searchPattern) {\n        if (!searchPattern) {\n            this._items = {};\n            return;\n        }\n        var regex = new RegExp(searchPattern);\n        for (var key in this._items) {\n            if (regex.test(key)) {\n                delete this._items[key];\n            }\n        }\n    };\n    InMemoryStorage.prototype.count = function (searchPattern) {\n        var regex = new RegExp(searchPattern || '.*');\n        var results = [];\n        for (var key in this._items) {\n            if (regex.test(key)) {\n                results.push(key);\n            }\n        }\n        return results.length;\n    };\n    return InMemoryStorage;\n})();\nexports.InMemoryStorage = InMemoryStorage;\nvar Utils = (function () {\n    function Utils() {\n    }\n    Utils.getHashCode = function (source) {\n        if (!source || source.length === 0) {\n            return null;\n        }\n        var hash = 0;\n        for (var index = 0; index < source.length; index++) {\n            var character = source.charCodeAt(index);\n            hash = ((hash << 5) - hash) + character;\n            hash |= 0;\n        }\n        return hash.toString();\n    };\n    Utils.guid = function () {\n        function s4() {\n            return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n        }\n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n    };\n    Utils.merge = function (defaultValues, values) {\n        var result = {};\n        for (var key in defaultValues || {}) {\n            if (!!defaultValues[key]) {\n                result[key] = defaultValues[key];\n            }\n        }\n        for (var key in values || {}) {\n            if (!!values[key]) {\n                result[key] = values[key];\n            }\n        }\n        return result;\n    };\n    Utils.parseVersion = function (source) {\n        if (!source) {\n            return null;\n        }\n        var versionRegex = /(v?((\\d+)\\.(\\d+)(\\.(\\d+))?)(?:-([\\dA-Za-z\\-]+(?:\\.[\\dA-Za-z\\-]+)*))?(?:\\+([\\dA-Za-z\\-]+(?:\\.[\\dA-Za-z\\-]+)*))?)/;\n        var matches = versionRegex.exec(source);\n        if (matches && matches.length > 0) {\n            return matches[0];\n        }\n        return null;\n    };\n    Utils.parseQueryString = function (query) {\n        if (!query || query.length === 0) {\n            return null;\n        }\n        var pairs = query.split('&');\n        if (pairs.length === 0) {\n            return null;\n        }\n        var result = {};\n        for (var index = 0; index < pairs.length; index++) {\n            var pair = pairs[index].split('=');\n            result[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n        }\n        return result;\n    };\n    Utils.randomNumber = function () {\n        return Math.floor(Math.random() * 9007199254740992);\n    };\n    Utils.stringify = function (data) {\n        var cache = [];\n        return JSON.stringify(data, function (key, value) {\n            if (typeof value === 'object' && value !== null) {\n                if (cache.indexOf(value) !== -1) {\n                    return;\n                }\n                cache.push(value);\n            }\n            return value;\n        });\n    };\n    return Utils;\n})();\nexports.Utils = Utils;\nvar Configuration = (function () {\n    function Configuration(settings) {\n        this._enabled = false;\n        this._serverUrl = 'https://collector.exceptionless.io';\n        this._plugins = [];\n        this.lastReferenceIdManager = new InMemoryLastReferenceIdManager();\n        this.defaultTags = [];\n        this.defaultData = {};\n        function inject(fn) {\n            return typeof fn === 'function' ? fn(this) : fn;\n        }\n        settings = Utils.merge(Configuration.defaults, settings);\n        this.apiKey = settings.apiKey;\n        this.serverUrl = settings.serverUrl;\n        this.environmentInfoCollector = inject(settings.environmentInfoCollector);\n        this.lastReferenceIdManager = inject(settings.lastReferenceIdManager) || new InMemoryLastReferenceIdManager();\n        this.log = inject(settings.log) || new NullLog();\n        this.requestInfoCollector = inject(settings.requestInfoCollector);\n        this.submissionBatchSize = inject(settings.submissionBatchSize) || 50;\n        this.submissionClient = inject(settings.submissionClient);\n        this.storage = inject(settings.storage) || new InMemoryStorage();\n        this.queue = inject(settings.queue) || new DefaultEventQueue(this);\n        EventPluginManager.addDefaultPlugins(this);\n    }\n    Object.defineProperty(Configuration.prototype, \"apiKey\", {\n        get: function () {\n            return this._apiKey;\n        },\n        set: function (value) {\n            this._apiKey = value || null;\n            this._enabled = !!value && value.length > 0;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Configuration.prototype, \"serverUrl\", {\n        get: function () {\n            return this._serverUrl;\n        },\n        set: function (value) {\n            if (!!value && value.length > 0) {\n                this._serverUrl = value;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Configuration.prototype, \"enabled\", {\n        get: function () {\n            return this._enabled;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Configuration.prototype, \"plugins\", {\n        get: function () {\n            return this._plugins.sort(function (p1, p2) {\n                return (p1.priority < p2.priority) ? -1 : (p1.priority > p2.priority) ? 1 : 0;\n            });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Configuration.prototype.addPlugin = function (pluginOrName, priority, pluginAction) {\n        var plugin = !!pluginAction ? { name: pluginOrName, priority: priority, run: pluginAction } : pluginOrName;\n        if (!plugin || !plugin.run) {\n            this.log.error('Unable to add plugin: No run method was found.');\n            return;\n        }\n        if (!plugin.name) {\n            plugin.name = Utils.guid();\n        }\n        if (!plugin.priority) {\n            plugin.priority = 0;\n        }\n        var pluginExists = false;\n        for (var index = 0; index < this._plugins.length; index++) {\n            if (this._plugins[index].name === plugin.name) {\n                pluginExists = true;\n                break;\n            }\n        }\n        if (!pluginExists) {\n            this._plugins.push(plugin);\n        }\n    };\n    Configuration.prototype.removePlugin = function (pluginOrName) {\n        var name = typeof pluginOrName === 'string' ? pluginOrName : pluginOrName.name;\n        if (!name) {\n            this.log.error('Unable to remove plugin: No plugin name was specified.');\n            return;\n        }\n        for (var index = 0; index < this._plugins.length; index++) {\n            if (this._plugins[index].name === name) {\n                this._plugins.splice(index, 1);\n                break;\n            }\n        }\n    };\n    Configuration.prototype.setVersion = function (version) {\n        if (!!version && version.length > 0) {\n            this.defaultData['@version'] = version;\n        }\n    };\n    Configuration.prototype.useReferenceIds = function () {\n        this.addPlugin(new ReferenceIdPlugin());\n    };\n    Configuration.prototype.useDebugLogger = function () {\n        this.log = new ConsoleLog();\n    };\n    Object.defineProperty(Configuration, \"defaults\", {\n        get: function () {\n            if (Configuration._defaultSettings === null) {\n                Configuration._defaultSettings = {};\n            }\n            return Configuration._defaultSettings;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Configuration._defaultSettings = null;\n    return Configuration;\n})();\nexports.Configuration = Configuration;\nvar EventBuilder = (function () {\n    function EventBuilder(event, client, pluginContextData) {\n        this.target = event;\n        this.client = client;\n        this.pluginContextData = pluginContextData;\n    }\n    EventBuilder.prototype.setType = function (type) {\n        if (!!type && type.length > 0) {\n            this.target.type = type;\n        }\n        return this;\n    };\n    EventBuilder.prototype.setSource = function (source) {\n        if (!!source && source.length > 0) {\n            this.target.source = source;\n        }\n        return this;\n    };\n    EventBuilder.prototype.setSessionId = function (sessionId) {\n        if (!this.isValidIdentifier(sessionId)) {\n            throw new Error(\"SessionId must contain between 8 and 100 alphanumeric or '-' characters.\");\n        }\n        this.target.session_id = sessionId;\n        return this;\n    };\n    EventBuilder.prototype.setReferenceId = function (referenceId) {\n        if (!this.isValidIdentifier(referenceId)) {\n            throw new Error(\"SessionId must contain between 8 and 100 alphanumeric or '-' characters.\");\n        }\n        this.target.reference_id = referenceId;\n        return this;\n    };\n    EventBuilder.prototype.setMessage = function (message) {\n        if (!!message && message.length > 0) {\n            this.target.message = message;\n        }\n        return this;\n    };\n    EventBuilder.prototype.setGeo = function (latitude, longitude) {\n        if (latitude < -90.0 || latitude > 90.0)\n            throw new Error('Must be a valid latitude value between -90.0 and 90.0.');\n        if (longitude < -180.0 || longitude > 180.0)\n            throw new Error('Must be a valid longitude value between -180.0 and 180.0.');\n        this.target.geo = latitude + \",\" + longitude;\n        return this;\n    };\n    EventBuilder.prototype.setValue = function (value) {\n        if (!!value) {\n            this.target.value = value;\n        }\n        return this;\n    };\n    EventBuilder.prototype.addTags = function () {\n        var tags = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            tags[_i - 0] = arguments[_i];\n        }\n        if (!tags || tags.length === 0) {\n            return this;\n        }\n        if (!this.target.tags) {\n            this.target.tags = [];\n        }\n        for (var index = 0; index < tags.length; index++) {\n            if (tags[index] && this.target.tags.indexOf(tags[index]) < 0) {\n                this.target.tags.push(tags[index]);\n            }\n        }\n        return this;\n    };\n    EventBuilder.prototype.setProperty = function (name, value) {\n        if (!name || (value === undefined || value == null)) {\n            return this;\n        }\n        if (!this.target.data) {\n            this.target.data = {};\n        }\n        this.target.data[name] = value;\n        return this;\n    };\n    EventBuilder.prototype.markAsCritical = function (critical) {\n        if (critical) {\n            this.addTags('Critical');\n        }\n        return this;\n    };\n    EventBuilder.prototype.submit = function () {\n        return this.client.submitEvent(this.target, this.pluginContextData);\n    };\n    EventBuilder.prototype.isValidIdentifier = function (value) {\n        if (!value || !value.length) {\n            return true;\n        }\n        if (value.length < 8 || value.length > 100) {\n            return false;\n        }\n        for (var index = 0; index < value.length; index++) {\n            var code = value.charCodeAt(index);\n            var isDigit = (code >= 48) && (code <= 57);\n            var isLetter = ((code >= 65) && (code <= 90)) || ((code >= 97) && (code <= 122));\n            var isMinus = code === 45;\n            if (!(isDigit || isLetter) && !isMinus) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return EventBuilder;\n})();\nexports.EventBuilder = EventBuilder;\nvar ExceptionlessClient = (function () {\n    function ExceptionlessClient(settingsOrApiKey, serverUrl) {\n        // TODO: populate this in a plugin..\n        //var settings = this.getSettingsFromScriptTag() || {};\n        if (typeof settingsOrApiKey !== 'object') {\n            this.config = new Configuration(settingsOrApiKey);\n        }\n        else {\n            this.config = new Configuration({ apiKey: settingsOrApiKey, serverUrl: serverUrl });\n        }\n    }\n    ExceptionlessClient.prototype.createException = function (exception) {\n        var pluginContextData = new ContextData();\n        pluginContextData.setException(exception);\n        return this.createEvent(pluginContextData).setType('error');\n    };\n    ExceptionlessClient.prototype.submitException = function (exception) {\n        return this.createException(exception).submit();\n    };\n    ExceptionlessClient.prototype.createUnhandledException = function (exception) {\n        var builder = this.createException(exception);\n        builder.pluginContextData.markAsUnhandledError();\n        return builder;\n    };\n    ExceptionlessClient.prototype.submitUnhandledException = function (exception) {\n        return this.createUnhandledException(exception).submit();\n    };\n    ExceptionlessClient.prototype.createFeatureUsage = function (feature) {\n        return this.createEvent().setType('usage').setSource(feature);\n    };\n    ExceptionlessClient.prototype.submitFeatureUsage = function (feature) {\n        return this.createFeatureUsage(feature).submit();\n    };\n    ExceptionlessClient.prototype.createLog = function (sourceOrMessage, message, level) {\n        var builder = this.createEvent().setType('log');\n        if (sourceOrMessage && message && level) {\n            builder = builder.setSource(sourceOrMessage).setMessage(message).setProperty('@level', level);\n        }\n        else if (sourceOrMessage && message) {\n            builder = builder.setSource(sourceOrMessage).setMessage(message);\n        }\n        else {\n            var source = (arguments.callee.caller).name;\n            builder = builder.setSource(source).setMessage(sourceOrMessage);\n        }\n        return builder;\n    };\n    ExceptionlessClient.prototype.submitLog = function (sourceOrMessage, message, level) {\n        return this.createLog(sourceOrMessage, message, level).submit();\n    };\n    ExceptionlessClient.prototype.createNotFound = function (resource) {\n        return this.createEvent().setType('404').setSource(resource);\n    };\n    ExceptionlessClient.prototype.submitNotFound = function (resource) {\n        return this.createNotFound(resource).submit();\n    };\n    ExceptionlessClient.prototype.createSessionStart = function (sessionId) {\n        return this.createEvent().setType('start').setSessionId(sessionId);\n    };\n    ExceptionlessClient.prototype.submitSessionStart = function (sessionId) {\n        return this.createSessionStart(sessionId).submit();\n    };\n    ExceptionlessClient.prototype.createSessionEnd = function (sessionId) {\n        return this.createEvent().setType('end').setSessionId(sessionId);\n    };\n    ExceptionlessClient.prototype.submitSessionEnd = function (sessionId) {\n        return this.createSessionEnd(sessionId).submit();\n    };\n    ExceptionlessClient.prototype.createEvent = function (pluginContextData) {\n        return new EventBuilder({ date: new Date() }, this, pluginContextData);\n    };\n    ExceptionlessClient.prototype.submitEvent = function (event, pluginContextData) {\n        var _this = this;\n        if (!event) {\n            return Promise.reject(new Error('Unable to submit undefined event.'));\n        }\n        if (!this.config.enabled) {\n            var message = 'Event submission is currently disabled.';\n            this.config.log.info(message);\n            return Promise.reject(new Error(message));\n        }\n        var context = new EventPluginContext(this, event, pluginContextData);\n        return EventPluginManager.run(context)\n            .then(function () {\n            if (context.cancel) {\n                var message = \"Event submission cancelled by plugin\\\": id=\" + event.reference_id + \" type=\" + event.type;\n                _this.config.log.info(message);\n                return Promise.reject(new Error(message));\n            }\n            if (!event.type || event.type.length === 0) {\n                event.type = 'log';\n            }\n            if (!event.date) {\n                event.date = new Date();\n            }\n            _this.config.log.info(\"Submitting event: type=\" + event.type + \" \" + (!!event.reference_id ? 'refid=' + event.reference_id : ''));\n            _this.config.queue.enqueue(event);\n            if (event.reference_id && event.reference_id.length > 0) {\n                _this.config.log.info(\"Setting last reference id \\\"\" + event.reference_id + \"\\\"\");\n                _this.config.lastReferenceIdManager.setLast(event.reference_id);\n            }\n            return Promise.resolve();\n        })\n            .catch(function (error) {\n            var message = \"Event submission cancelled. An error occurred while running the plugins: \" + (error && error.message ? error.message : error);\n            _this.config.log.error(message);\n            return Promise.reject(new Error(message));\n        });\n    };\n    ExceptionlessClient.prototype.getLastReferenceId = function () {\n        return this.config.lastReferenceIdManager.getLast();\n    };\n    Object.defineProperty(ExceptionlessClient, \"default\", {\n        get: function () {\n            if (ExceptionlessClient._instance === null) {\n                ExceptionlessClient._instance = new ExceptionlessClient(null);\n            }\n            return ExceptionlessClient._instance;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ExceptionlessClient._instance = null;\n    return ExceptionlessClient;\n})();\nexports.ExceptionlessClient = ExceptionlessClient;\nvar ConfigurationDefaultsPlugin = (function () {\n    function ConfigurationDefaultsPlugin() {\n        this.priority = 10;\n        this.name = 'ConfigurationDefaultsPlugin';\n    }\n    ConfigurationDefaultsPlugin.prototype.run = function (context) {\n        if (!!context.client.config.defaultTags) {\n            if (!context.event.tags) {\n                context.event.tags = [];\n            }\n            for (var index = 0; index < context.client.config.defaultTags.length; index++) {\n                var tag = context.client.config.defaultTags[index];\n                if (tag && context.client.config.defaultTags.indexOf(tag) < 0) {\n                    context.event.tags.push(tag);\n                }\n            }\n        }\n        if (!!context.client.config.defaultData) {\n            if (!context.event.data) {\n                context.event.data = {};\n            }\n            for (var key in context.client.config.defaultData) {\n                if (!!context.client.config.defaultData[key]) {\n                    context.event.data[key] = context.client.config.defaultData[key];\n                }\n            }\n        }\n        return Promise.resolve();\n    };\n    return ConfigurationDefaultsPlugin;\n})();\nexports.ConfigurationDefaultsPlugin = ConfigurationDefaultsPlugin;\nvar ErrorPlugin = (function () {\n    function ErrorPlugin() {\n        this.priority = 30;\n        this.name = 'ErrorPlugin';\n    }\n    ErrorPlugin.prototype.run = function (context) {\n        var _this = this;\n        var exception = context.contextData.getException();\n        if (exception == null) {\n            return Promise.resolve();\n        }\n        if (!context.event.data) {\n            context.event.data = {};\n        }\n        context.event.type = 'error';\n        if (!!context.event.data['@error']) {\n            return Promise.resolve();\n        }\n        return StackTrace.fromError(exception).then(function (stackFrames) { return _this.processError(context, exception, stackFrames); }, function () { return _this.onParseError(context); });\n    };\n    ErrorPlugin.prototype.processError = function (context, exception, stackFrames) {\n        var error = {\n            message: exception.message,\n            stack_trace: this.getStackFrames(context, stackFrames || [])\n        };\n        context.event.data['@error'] = error;\n        return Promise.resolve();\n    };\n    ErrorPlugin.prototype.onParseError = function (context) {\n        context.cancel = true;\n        return Promise.reject(new Error('Unable to parse the exceptions stack trace. This exception will be discarded.'));\n    };\n    ErrorPlugin.prototype.getStackFrames = function (context, stackFrames) {\n        var frames = [];\n        for (var index = 0; index < stackFrames.length; index++) {\n            frames.push({\n                name: stackFrames[index].functionName,\n                file_name: stackFrames[index].fileName,\n                line_number: stackFrames[index].lineNumber,\n                column: stackFrames[index].columnNumber\n            });\n        }\n        return frames;\n    };\n    return ErrorPlugin;\n})();\nexports.ErrorPlugin = ErrorPlugin;\nvar DuplicateCheckerPlugin = (function () {\n    function DuplicateCheckerPlugin() {\n        this.priority = 50;\n        this.name = 'DuplicateCheckerPlugin';\n    }\n    DuplicateCheckerPlugin.prototype.run = function (context) {\n        return Promise.resolve();\n    };\n    return DuplicateCheckerPlugin;\n})();\nexports.DuplicateCheckerPlugin = DuplicateCheckerPlugin;\nvar ModuleInfoPlugin = (function () {\n    function ModuleInfoPlugin() {\n        this.priority = 40;\n        this.name = 'ModuleInfoPlugin';\n    }\n    ModuleInfoPlugin.prototype.run = function (context) {\n        if (!context.event.data || !context.event.data['@error'] || !!context.event.data['@error'].modules) {\n            return Promise.resolve();\n        }\n        try {\n            if (document && document.getElementsByTagName) {\n                var modules = this.getFromDocument();\n                if (modules && modules.length > 0) {\n                    context.event.data['@error'].modules = modules;\n                }\n            }\n        }\n        catch (e) {\n            context.log.error(\"Unable to get module info. Exception: \" + e.message);\n        }\n        return Promise.resolve();\n    };\n    ModuleInfoPlugin.prototype.getFromDocument = function () {\n        var modules = [];\n        var scripts = document.getElementsByTagName('script');\n        if (scripts && scripts.length > 0) {\n            for (var index = 0; index < scripts.length; index++) {\n                if (scripts[index].src) {\n                    modules.push({\n                        module_id: index,\n                        name: scripts[index].src,\n                        version: Utils.parseVersion(scripts[index].src)\n                    });\n                }\n                else if (!!scripts[index].innerHTML) {\n                    modules.push({\n                        module_id: index,\n                        name: 'Script Tag',\n                        version: Utils.getHashCode(scripts[index].innerHTML)\n                    });\n                }\n            }\n        }\n        return modules;\n    };\n    return ModuleInfoPlugin;\n})();\nexports.ModuleInfoPlugin = ModuleInfoPlugin;\nvar RequestInfoPlugin = (function () {\n    function RequestInfoPlugin() {\n        this.priority = 60;\n        this.name = 'RequestInfoPlugin';\n    }\n    RequestInfoPlugin.prototype.run = function (context) {\n        if (!!context.event.data && !!context.event.data['@request'] || !context.client.config.requestInfoCollector) {\n            return Promise.resolve();\n        }\n        if (!context.event.data) {\n            context.event.data = {};\n        }\n        var ri = context.client.config.requestInfoCollector.getRequestInfo(context);\n        if (ri) {\n            context.event.data['@request'] = ri;\n        }\n        return Promise.resolve();\n    };\n    return RequestInfoPlugin;\n})();\nexports.RequestInfoPlugin = RequestInfoPlugin;\nvar EnvironmentInfoPlugin = (function () {\n    function EnvironmentInfoPlugin() {\n        this.priority = 70;\n        this.name = 'EnvironmentInfoPlugin';\n    }\n    EnvironmentInfoPlugin.prototype.run = function (context) {\n        if (!!context.event.data && !!context.event.data['@environment'] || !context.client.config.environmentInfoCollector) {\n            return Promise.resolve();\n        }\n        if (!context.event.data) {\n            context.event.data = {};\n        }\n        var ei = context.client.config.environmentInfoCollector.getEnvironmentInfo(context);\n        if (ei) {\n            context.event.data['@environment'] = ei;\n        }\n        return Promise.resolve();\n    };\n    return EnvironmentInfoPlugin;\n})();\nexports.EnvironmentInfoPlugin = EnvironmentInfoPlugin;\nvar SubmissionMethodPlugin = (function () {\n    function SubmissionMethodPlugin() {\n        this.priority = 100;\n        this.name = 'SubmissionMethodPlugin';\n    }\n    SubmissionMethodPlugin.prototype.run = function (context) {\n        var submissionMethod = context.contextData.getSubmissionMethod();\n        if (!!submissionMethod) {\n            if (!context.event.data) {\n                context.event.data = {};\n            }\n            context.event.data['@submission_method'] = submissionMethod;\n        }\n        return Promise.resolve();\n    };\n    return SubmissionMethodPlugin;\n})();\nexports.SubmissionMethodPlugin = SubmissionMethodPlugin;\nvar SettingsResponse = (function () {\n    function SettingsResponse(success, settings, settingsVersion, exception, message) {\n        if (settingsVersion === void 0) { settingsVersion = -1; }\n        if (exception === void 0) { exception = null; }\n        if (message === void 0) { message = null; }\n        this.success = false;\n        this.settingsVersion = -1;\n        this.success = success;\n        this.settings = settings;\n        this.settingsVersion = settingsVersion;\n        this.exception = exception;\n        this.message = message;\n    }\n    return SettingsResponse;\n})();\nexports.SettingsResponse = SettingsResponse;\nvar SubmissionResponse = (function () {\n    function SubmissionResponse(statusCode, message) {\n        this.success = false;\n        this.badRequest = false;\n        this.serviceUnavailable = false;\n        this.paymentRequired = false;\n        this.unableToAuthenticate = false;\n        this.notFound = false;\n        this.requestEntityTooLarge = false;\n        this.statusCode = statusCode;\n        this.message = message;\n        this.success = statusCode >= 200 && statusCode <= 299;\n        this.badRequest = statusCode === 400;\n        this.serviceUnavailable = statusCode === 503;\n        this.paymentRequired = statusCode === 402;\n        this.unableToAuthenticate = statusCode === 401 || statusCode === 403;\n        this.notFound = statusCode === 404;\n        this.requestEntityTooLarge = statusCode === 413;\n    }\n    return SubmissionResponse;\n})();\nexports.SubmissionResponse = SubmissionResponse;\nvar os = require('os');\nvar NodeEnvironmentInfoCollector = (function () {\n    function NodeEnvironmentInfoCollector() {\n    }\n    NodeEnvironmentInfoCollector.prototype.getEnvironmentInfo = function (context) {\n        if (!os) {\n            return null;\n        }\n        var environmentInfo = {\n            processor_count: os.cpus().length,\n            total_physical_memory: os.totalmem(),\n            available_physical_memory: os.freemem(),\n            command_line: process.argv.join(' '),\n            process_name: process.title,\n            process_id: process.pid + '',\n            process_memory_size: process.memoryUsage().heapTotal,\n            architecture: os.arch(),\n            o_s_name: os.type(),\n            o_s_version: os.release(),\n            ip_address: this.getIpAddresses(),\n            machine_name: os.hostname(),\n            runtime_version: process.version,\n            data: {\n                loadavg: os.loadavg(),\n                platform: os.platform(),\n                tmpdir: os.tmpdir(),\n                uptime: os.uptime()\n            }\n        };\n        if (os.endianness) {\n            environmentInfo.data.endianness = os.endianness();\n        }\n        return environmentInfo;\n    };\n    NodeEnvironmentInfoCollector.prototype.getIpAddresses = function () {\n        var ips = [];\n        var interfaces = os.networkInterfaces();\n        Object.keys(interfaces).forEach(function (name) {\n            interfaces[name].forEach(function (iface) {\n                if ('IPv4' === iface.family && !iface.internal) {\n                    ips.push(iface.address);\n                }\n            });\n        });\n        return ips.join(', ');\n    };\n    return NodeEnvironmentInfoCollector;\n})();\nexports.NodeEnvironmentInfoCollector = NodeEnvironmentInfoCollector;\nvar NodeRequestInfoCollector = (function () {\n    function NodeRequestInfoCollector() {\n    }\n    NodeRequestInfoCollector.prototype.getRequestInfo = function (context) {\n        return undefined;\n    };\n    return NodeRequestInfoCollector;\n})();\nexports.NodeRequestInfoCollector = NodeRequestInfoCollector;\nvar https = require('https');\nvar url = require('url');\nvar NodeSubmissionClient = (function () {\n    function NodeSubmissionClient() {\n    }\n    NodeSubmissionClient.prototype.submit = function (events, config) {\n        var _this = this;\n        return this.sendRequest('POST', config.serverUrl, '/api/v2/events', config.apiKey, Utils.stringify(events)).then(function (msg) { return new SubmissionResponse(msg.statusCode, _this.getResponseMessage(msg)); }, function (msg) { return new SubmissionResponse(msg.statusCode || 500, _this.getResponseMessage(msg)); });\n    };\n    NodeSubmissionClient.prototype.submitDescription = function (referenceId, description, config) {\n        var _this = this;\n        var path = \"/api/v2/events/by-ref/\" + encodeURIComponent(referenceId) + \"/user-description\";\n        return this.sendRequest('POST', config.serverUrl, path, config.apiKey, Utils.stringify(description)).then(function (msg) { return new SubmissionResponse(msg.statusCode, _this.getResponseMessage(msg)); }, function (msg) { return new SubmissionResponse(msg.statusCode || 500, _this.getResponseMessage(msg)); });\n    };\n    NodeSubmissionClient.prototype.getSettings = function (config) {\n        var _this = this;\n        return this.sendRequest('GET', config.serverUrl, '/api/v2/projects/config', config.apiKey).then(function (msg) {\n            if (msg.statusCode !== 200 || !msg.responseText) {\n                return new SettingsResponse(false, null, -1, null, \"Unable to retrieve configuration settings: \" + _this.getResponseMessage(msg));\n            }\n            var settings;\n            try {\n                settings = JSON.parse(msg.responseText);\n            }\n            catch (e) {\n                config.log.error(\"An error occurred while parsing the settings response text: \\\"\" + msg.responseText + \"\\\"\");\n            }\n            if (!settings || !settings.settings || !settings.version) {\n                return new SettingsResponse(true, null, -1, null, 'Invalid configuration settings.');\n            }\n            return new SettingsResponse(true, settings.settings, settings.version);\n        }, function (msg) {\n            return new SettingsResponse(false, null, -1, null, _this.getResponseMessage(msg));\n        });\n    };\n    NodeSubmissionClient.prototype.getResponseMessage = function (msg) {\n        if (!msg || (msg.statusCode >= 200 && msg.statusCode <= 299)) {\n            return null;\n        }\n        if (msg.statusCode === 0) {\n            return 'Unable to connect to server.';\n        }\n        return msg.statusMessage || msg.message;\n    };\n    NodeSubmissionClient.prototype.sendRequest = function (method, host, path, apiKey, data) {\n        return new Promise(function (resolve, reject) {\n            var parsedHost = url.parse(host);\n            var options = {\n                auth: \"client:\" + apiKey,\n                hostname: parsedHost.hostname,\n                method: method,\n                port: parsedHost.port && parseInt(parsedHost.port),\n                path: path\n            };\n            if (method === 'POST') {\n                options.headers = {\n                    'Content-Type': 'application/json',\n                    'Content-Length': data.length\n                };\n            }\n            console.log(options);\n            var request = https.request(options, function (response) {\n                var body = '';\n                response.on('data', function (chunk) { return body += chunk; });\n                response.on('end', function () {\n                    response.responseText = body;\n                    resolve(response);\n                });\n            });\n            request.on('error', function (e) {\n                reject(e);\n            });\n            request.write(data);\n            request.end();\n        });\n    };\n    return NodeSubmissionClient;\n})();\nexports.NodeSubmissionClient = NodeSubmissionClient;\nvar NodeBootstrapper = (function () {\n    function NodeBootstrapper() {\n    }\n    NodeBootstrapper.prototype.register = function () {\n        var _this = this;\n        if (!this.isNode()) {\n            return;\n        }\n        Configuration.defaults.environmentInfoCollector = new NodeEnvironmentInfoCollector();\n        Configuration.defaults.requestInfoCollector = new NodeRequestInfoCollector();\n        Configuration.defaults.submissionClient = new NodeSubmissionClient();\n        process.on('uncaughtException', function (error) {\n            ExceptionlessClient.default.submitUnhandledException(error);\n        });\n        process.on('beforeExit', function (code) {\n            var client = ExceptionlessClient.default;\n            var message = _this.getExitCodeReason(code);\n            if (message !== null) {\n                client.submitLog('beforeExit', message, 'Error');\n            }\n            client.config.queue.process();\n        });\n    };\n    NodeBootstrapper.prototype.getExitCodeReason = function (code) {\n        if (code === 1) {\n            return 'Uncaught Fatal Exception';\n        }\n        if (code === 3) {\n            return 'Internal JavaScript Parse Error';\n        }\n        if (code === 4) {\n            return 'Internal JavaScript Evaluation Failure';\n        }\n        if (code === 5) {\n            return 'Fatal Exception';\n        }\n        if (code === 6) {\n            return 'Non-function Internal Exception Handler ';\n        }\n        if (code === 7) {\n            return 'Internal Exception Handler Run-Time Failure';\n        }\n        if (code === 8) {\n            return 'Uncaught Exception';\n        }\n        if (code === 9) {\n            return 'Invalid Argument';\n        }\n        if (code === 10) {\n            return 'Internal JavaScript Run-Time Failure';\n        }\n        if (code === 12) {\n            return 'Invalid Debug Argument';\n        }\n        if (code > 128) {\n            return 'Signal Exits';\n        }\n        return null;\n    };\n    NodeBootstrapper.prototype.isNode = function () {\n        return typeof window === 'undefined' && typeof global !== 'undefined' && {}.toString.call(global) === '[object global]';\n    };\n    return NodeBootstrapper;\n})();\nexports.NodeBootstrapper = NodeBootstrapper;\nvar WebRequestInfoCollector = (function () {\n    function WebRequestInfoCollector() {\n    }\n    WebRequestInfoCollector.prototype.getRequestInfo = function (context) {\n        if (!navigator || !location) {\n            return null;\n        }\n        var requestInfo = {\n            user_agent: navigator.userAgent,\n            is_secure: location.protocol === 'https:',\n            host: location.hostname,\n            port: location.port && location.port !== '' ? parseInt(location.port) : 80,\n            path: location.pathname,\n            cookies: this.getCookies(),\n            query_string: Utils.parseQueryString(location.search.substring(1))\n        };\n        if (document.referrer && document.referrer !== '') {\n            requestInfo.referrer = document.referrer;\n        }\n    };\n    WebRequestInfoCollector.prototype.getCookies = function () {\n        if (!document.cookie) {\n            return null;\n        }\n        var result = {};\n        var cookies = document.cookie.split(', ');\n        for (var index = 0; index < cookies.length; index++) {\n            var cookie = cookies[index].split('=');\n            result[cookie[0]] = cookie[1];\n        }\n        return result;\n    };\n    return WebRequestInfoCollector;\n})();\nexports.WebRequestInfoCollector = WebRequestInfoCollector;\nvar DefaultSubmissionClient = (function () {\n    function DefaultSubmissionClient() {\n    }\n    DefaultSubmissionClient.prototype.submit = function (events, config) {\n        var _this = this;\n        var url = config.serverUrl + \"/api/v2/events?access_token=\" + encodeURIComponent(config.apiKey);\n        return this.sendRequest('POST', url, Utils.stringify(events)).then(function (xhr) { return new SubmissionResponse(xhr.status, _this.getResponseMessage(xhr)); }, function (xhr) { return new SubmissionResponse(xhr.status || 500, _this.getResponseMessage(xhr)); });\n    };\n    DefaultSubmissionClient.prototype.submitDescription = function (referenceId, description, config) {\n        var _this = this;\n        var url = config.serverUrl + \"/api/v2/events/by-ref/\" + encodeURIComponent(referenceId) + \"/user-description?access_token=\" + encodeURIComponent(config.apiKey);\n        return this.sendRequest('POST', url, Utils.stringify(description)).then(function (xhr) { return new SubmissionResponse(xhr.status, _this.getResponseMessage(xhr)); }, function (xhr) { return new SubmissionResponse(xhr.status || 500, _this.getResponseMessage(xhr)); });\n    };\n    DefaultSubmissionClient.prototype.getSettings = function (config) {\n        var _this = this;\n        var url = config.serverUrl + \"/api/v2/projects/config?access_token=\" + encodeURIComponent(config.apiKey);\n        return this.sendRequest('GET', url).then(function (xhr) {\n            if (xhr.status !== 200) {\n                return new SettingsResponse(false, null, -1, null, \"Unable to retrieve configuration settings: \" + _this.getResponseMessage(xhr));\n            }\n            var settings;\n            try {\n                settings = JSON.parse(xhr.responseText);\n            }\n            catch (e) {\n                config.log.error(\"An error occurred while parsing the settings response text: \\\"\" + xhr.responseText + \"\\\"\");\n            }\n            if (!settings || !settings.settings || !settings.version) {\n                return new SettingsResponse(true, null, -1, null, 'Invalid configuration settings.');\n            }\n            return new SettingsResponse(true, settings.settings, settings.version);\n        }, function (xhr) {\n            return new SettingsResponse(false, null, -1, null, _this.getResponseMessage(xhr));\n        });\n    };\n    DefaultSubmissionClient.prototype.getResponseMessage = function (xhr) {\n        if (!xhr || (xhr.status >= 200 && xhr.status <= 299)) {\n            return null;\n        }\n        if (xhr.status === 0) {\n            return 'Unable to connect to server.';\n        }\n        if (xhr.responseBody) {\n            return xhr.responseBody.message;\n        }\n        if (xhr.responseText) {\n            try {\n                return JSON.parse(xhr.responseText).message;\n            }\n            catch (e) {\n                return xhr.responseText;\n            }\n        }\n        return xhr.statusText;\n    };\n    DefaultSubmissionClient.prototype.createRequest = function (method, url) {\n        var xhr = new XMLHttpRequest();\n        if ('withCredentials' in xhr) {\n            xhr.open(method, url, true);\n        }\n        else if (typeof XDomainRequest != 'undefined') {\n            xhr = new XDomainRequest();\n            xhr.open(method, url);\n        }\n        else {\n            xhr = null;\n        }\n        if (xhr) {\n            if (method === 'POST' && xhr.setRequestHeader) {\n                xhr.setRequestHeader('Content-Type', 'application/json');\n            }\n            xhr.timeout = 10000;\n        }\n        return xhr;\n    };\n    DefaultSubmissionClient.prototype.sendRequest = function (method, url, data) {\n        var xhr = this.createRequest(method || 'POST', url);\n        return new Promise(function (resolve, reject) {\n            if (!xhr) {\n                return reject({ status: 503, message: 'CORS not supported.' });\n            }\n            if ('withCredentials' in xhr) {\n                xhr.onreadystatechange = function () {\n                    if (xhr.readyState !== 4) {\n                        return;\n                    }\n                    if (xhr.status >= 200 && xhr.status <= 299) {\n                        resolve(xhr);\n                    }\n                    else {\n                        reject(xhr);\n                    }\n                };\n            }\n            xhr.ontimeout = function () { return reject(xhr); };\n            xhr.onerror = function () { return reject(xhr); };\n            xhr.onload = function () { return resolve(xhr); };\n            xhr.send(data);\n        });\n    };\n    return DefaultSubmissionClient;\n})();\nexports.DefaultSubmissionClient = DefaultSubmissionClient;\nvar WindowBootstrapper = (function () {\n    function WindowBootstrapper() {\n    }\n    WindowBootstrapper.prototype.register = function () {\n        if (typeof window === 'undefined' || typeof document === 'undefined') {\n            return;\n        }\n        var settings = this.getDefaultsSettingsFromScriptTag();\n        if (settings && (settings.apiKey || settings.serverUrl)) {\n            Configuration.defaults.apiKey = settings.apiKey;\n            Configuration.defaults.serverUrl = settings.serverUrl;\n        }\n        Configuration.defaults.requestInfoCollector = new WebRequestInfoCollector();\n        Configuration.defaults.submissionClient = new DefaultSubmissionClient();\n        this.handleWindowOnError();\n    };\n    WindowBootstrapper.prototype.getDefaultsSettingsFromScriptTag = function () {\n        if (!document || !document.getElementsByTagName) {\n            return null;\n        }\n        var scripts = document.getElementsByTagName('script');\n        for (var index = 0; index < scripts.length; index++) {\n            if (scripts[index].src && scripts[index].src.indexOf('/exceptionless') > -1) {\n                return Utils.parseQueryString(scripts[index].src.split('?').pop());\n            }\n        }\n        return null;\n    };\n    WindowBootstrapper.prototype.handleWindowOnError = function () {\n        var _oldOnErrorHandler = window.onerror;\n        window.onerror = function (message, filename, lineno, colno, error) {\n            var client = ExceptionlessClient.default;\n            if (error !== null && typeof error === 'object') {\n                client.submitUnhandledException(error);\n            }\n            else {\n                var e = {\n                    message: message,\n                    stack_trace: [{\n                            file_name: filename,\n                            line_number: lineno,\n                            column: colno\n                        }]\n                };\n                client.createUnhandledException(new Error(message)).setMessage(message).setProperty('@error', e).submit();\n            }\n            if (_oldOnErrorHandler) {\n                try {\n                    return _oldOnErrorHandler(message, filename, lineno, colno, error);\n                }\n                catch (e) {\n                    client.config.log.error(\"An error occurred while calling previous error handler: \" + e.message);\n                }\n            }\n            return false;\n        };\n    };\n    return WindowBootstrapper;\n})();\nexports.WindowBootstrapper = WindowBootstrapper;\nnew NodeBootstrapper().register();\nnew WindowBootstrapper().register();\nError.stackTraceLimit = Infinity;\n"],"sourceRoot":"/source/"}